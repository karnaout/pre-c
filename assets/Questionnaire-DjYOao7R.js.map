{"version":3,"file":"Questionnaire-DjYOao7R.js","sources":["../../src/Hooks/useCreateForm.jsx","../../src/Hooks/useFinish.jsx","../../src/Data/renderContent.jsx","../../src/Components/Layout/QestionnairBodyLayout.jsx","../../src/pages/Questionnaire.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport const useCreateForm = () => {\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const createForm = async (formData) => {\n    setLoading(true);\n    setError(null); // Reset error state before making the request\n    setResponse(null); // Clear previous response\n\n    try {\n      const response = await axios.post(\n        `${import.meta.env.VITE_APP_BASE_API}form`,\n        { form_data: formData }, \n        {\n          headers: {\n            'Authorization': `${localStorage.getItem('token')}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n\n      setResponse(response.data); // Update response state with the API response data\n      return response.data; // Return response data to the caller\n    } catch (err) {\n \n\n      // Set error state to \"500\" whenever an error occurs\n      setError(err.response ? err.response.status : err.message);\n\n      //return null; // Return null to indicate failure\n    } finally {\n      setLoading(false); // Reset the loading state\n    }\n  };\n\n  return { createForm, response, loading, error };\n};\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport const useFinishForm = () => {\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const FinishForm = async (formData) => {\n    setLoading(true);\n    setError(null); // Reset error state before making the request\n    setResponse(null); // Clear previous response\n\n    try {\n      const response = await axios.post(\n        `${import.meta.env.VITE_APP_BASE_API}form/finish`,\n        { form_data: formData }, \n        {\n          headers: {\n            'Authorization': `${localStorage.getItem('token')}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n\n      setResponse(response.data); // Update response state with the API response data\n      return response.data; // Return response data to the caller\n    } catch (err) {\n \n\n      // Set error state to \"500\" whenever an error occurs\n      setError(err.response ? err.response.status : err.message);\n\n      //return null; // Return null to indicate failure\n    } finally {\n      setLoading(false); // Reset the loading state\n    }\n  };\n\n  return { FinishForm, response, loading, error };\n};\n","import {\n\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Paper,\n  } from '@mui/material';\nimport { Container, Box, Typography, FormControl, FormLabel, RadioGroup, FormControlLabel, Radio, Checkbox, TextField, Button } from '@mui/material';\nimport parse from 'html-react-parser';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst customRadioStyles = {\n  '& .MuiRadio-root': {\n      color: 'white',\n  },\n  '& .MuiRadio-root.Mui-checked': {\n      color: 'white',\n  },\n  '& .MuiRadio-root .MuiSvgIcon-root': {\n      backgroundColor: 'white',\n      borderRadius: '50%',\n  },\n};\n\nconst customCheckboxStyles = {\n  '& .MuiCheckbox-root': {\n      color: 'white',\n  },\n  '& .MuiCheckbox-root.Mui-checked': {\n      color: 'white',\n  },\n  '& .MuiCheckbox-root .MuiSvgIcon-root': {\n      backgroundColor: 'white',\n  },\n};\n\nconst renderContent = (key, value, handleChange, formData) => {\n  const isInvalid = (name) => !formData[name] && formData.hasOwnProperty(name); // Check if the field is invalid\n    switch (key) {\n      case 'H2':\n        return <Typography variant=\"h2\">{value}</Typography>;\n  \n      case 'Text':\n        return Array.isArray(value)\n          ? value.map((text, index) => <Typography key={index} variant=\"body1\">{parse(text)}</Typography>)\n          : <Typography variant=\"body1\">{parse(value)}</Typography>;\n  \n      case 'radio':\n            const [radioQuestion, ...radioOptions] = value;\n            return (\n              <FormControl component=\"fieldset\">\n                <FormLabel component=\"legend\">{radioQuestion}</FormLabel>\n                <RadioGroup\n                  name={radioQuestion}\n                  onChange={handleChange}\n                  value={formData[radioQuestion] || ''}\n                >\n                  {radioOptions.map((option, index) => (\n                    <FormControlLabel\n                      key={index}\n                      value={index.toString()} // Use index as the value\n                      control={<Radio sx={{ ...customRadioStyles, ...(isInvalid(radioQuestion) ? { border: '2px solid red' } : {}) }} />}\n                      label={option}\n                    />\n                  ))}\n                </RadioGroup>\n              </FormControl>\n            );\n      \n      \n      case 'checkbox':\n      const [checkboxQuestion, ...checkboxOptions] = value;\n      return (\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">{checkboxQuestion}</FormLabel>\n          {checkboxOptions.map((option, index) => (\n            <FormControlLabel\n              key={index}\n              control={\n                <Checkbox\n                  sx={{ ...customCheckboxStyles, ...(isInvalid(checkboxQuestion) ? { border: '2px solid red' } : {}) }}\n                  name={checkboxQuestion}\n                  value={option}\n                  checked={(formData[checkboxQuestion] || []).includes(option)}\n                  onChange={handleChange}\n                />\n              }\n              label={option}\n            />\n          ))}\n        </FormControl>\n      );\n\n      case 'checkboxKey':\n        const [checkboxKeyQuestion, ...checkboxKeyOptions] = value;\n        return (\n          <FormControl component=\"fieldset\">\n            <FormLabel component=\"legend\">{checkboxKeyQuestion}</FormLabel>\n            {checkboxKeyOptions.map((item, index) => (\n              <Box key={index} sx={{ mb: 2 }}>\n                <Typography variant=\"body1\">{item.label}</Typography>\n                <RadioGroup\n                  name={`${checkboxKeyQuestion}_${item.label}`} // Unique name for each age field\n                  onChange={handleChange}\n                  value={formData[`${checkboxKeyQuestion}_${item.label}`] || ''}\n                >\n                  {item.options.map((option, subIndex) => (\n                    <FormControlLabel\n                      key={subIndex}\n                      value={subIndex.toString()}  // Use index as the value\n                      control={<Radio sx={customRadioStyles} />}\n                      label={option}\n                    />\n                  ))}\n                </RadioGroup>\n              </Box>\n            ))}\n          </FormControl>\n        );\n  \n      case 'input':\n      return (\n        <FormControl>\n          <FormLabel component=\"legend\">{value}</FormLabel>\n          <input\n            variant=\"outlined\"\n            sx={{ bgcolor: 'white', ...(isInvalid(value) ? { border: '2px solid red' } : {}) }}\n            name={value}\n            value={formData[value] || ''}\n            onChange={handleChange}\n            label={value}\n          />\n        </FormControl>\n      );\n      case 'inputKey':\n      return (\n        <FormControl>\n          {value.map((item, index) => (\n            <Box key={index} sx={{ mb: 2, height: \"44px\" }}>\n              <FormLabel>{item.label}</FormLabel>\n              <TextField\n                variant=\"outlined\"\n                sx={{ bgcolor: 'white', height: \"41px\", ...(isInvalid(item.label) ? { border: '2px solid red' } : {}) }}\n                name={item.label}\n                value={formData[item.label] || ''}\n                onChange={handleChange}\n              />\n            </Box>\n          ))}\n        </FormControl>\n      );\n\n      case 'ladderRadio': {\n      const [ladderQuestion, ladderOptions] = value;\n\n      return (\n        <FormControl className=\"not-required\" component=\"fieldset\" sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start' ,marginTop:\"45px\"}}>\n          <FormLabel component=\"legend\" sx={{ mb: 2, textAlign: 'left' }}>{ladderQuestion}</FormLabel>\n          \n          <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n            <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', mr: 2 }}>\n              {ladderOptions.map((_, index) => (\n                <Typography key={index} sx={{ height: '40px', display: 'flex', alignItems: 'center' }}>\n                  {ladderOptions.length - 1 - index}\n                </Typography>\n              ))}\n            </Box>\n\n            <RadioGroup\n              name={ladderQuestion}\n              onChange={handleChange}\n              value={formData[ladderQuestion] || ''}\n              sx={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between', height: '435px' }}\n            >\n              {ladderOptions.map((_, index) => (\n                <FormControlLabel\n                  key={index}\n                  value={(ladderOptions.length - 1 - index).toString()}\n                  control={<Radio sx={{ ...customRadioStyles, ...(isInvalid(ladderQuestion) ? { border: '2px solid red' } : {}) }} />}\n                  label=\"\"\n                  sx={{ display: 'flex', justifyContent: 'center', height: '38px' }}\n                />\n              ))}\n            </RadioGroup>\n\n            <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', ml: 2, height: '435px', justifyContent: \"space-between\" }}>\n              {ladderOptions.map((option, index) => (\n                <Typography key={index} sx={{ height: '36px', display: 'flex', alignItems: 'center' }}>\n                  {option}\n                </Typography>\n              ))}\n            </Box>\n          </Box>\n        </FormControl>\n      );\n    }\n        \n        \n        \n        \n    case 'recreationalActivityTable': {\n      const { activities, weightTrainingActivities, timeRanges } = value;\n  \n      // Function to handle \"Check All\" button click\n      \n  \n      return (\n          <Box>\n              \n              <TableContainer component={Paper}>\n                  <Table>\n                      <TableHead>\n                          <TableRow>\n                              <TableCell>Activity</TableCell>\n                              {timeRanges.map((range, index) => (\n                                  <TableCell sx={{lineHeight:\"19px\"}} key={index}>{range}</TableCell>\n                              ))}\n                          </TableRow>\n                      </TableHead>\n                      <TableBody className=\"radio-table\">\n                          {activities.map((activity, rowIndex) => (\n                              <TableRow key={rowIndex}>\n                                  <TableCell>{activity}</TableCell>\n                                  {timeRanges.map((range, colIndex) => (\n                                      <TableCell key={colIndex}>\n                                          <FormControlLabel\n                                              control={\n                                                  <Radio\n                                                      name={activity}\n                                                      value={colIndex.toString()}\n                                                      checked={formData[activity] === colIndex.toString()}\n                                                      onChange={(e) =>\n                                                          handleChange({\n                                                              target: {\n                                                                  name: activity,\n                                                                  value: e.target.value,\n                                                              },\n                                                          })\n                                                      }\n                                                  />\n                                              }\n                                          />\n                                      </TableCell>\n                                  ))}\n                              </TableRow>\n                          ))}\n  \n                          {/* Weight Training Activities */}\n                          <TableRow>\n                              <TableCell colSpan={11}>\n                                  <Typography variant=\"h6\">\n                                      Weight training or resistance exercises (e.g., free weights or machines)\n                                  </Typography>\n                              </TableCell>\n                          </TableRow>\n  \n                          {weightTrainingActivities.map((weightActivity, rowIndex) => (\n                              <TableRow key={rowIndex}>\n                                  <TableCell>{weightActivity}</TableCell>\n                                  {timeRanges.map((range, colIndex) => (\n                                      <TableCell key={colIndex}>\n                                          <FormControlLabel\n                                              control={\n                                                  <Radio\n                                                      name={weightActivity}\n                                                      value={colIndex.toString()}\n                                                      checked={formData[weightActivity] === colIndex.toString()}\n                                                      onChange={(e) =>\n                                                          handleChange({\n                                                              target: {\n                                                                  name: weightActivity,\n                                                                  value: e.target.value,\n                                                              },\n                                                          })\n                                                      }\n                                                  />\n                                              }\n                                          />\n                                      </TableCell>\n                                  ))}\n                              </TableRow>\n                          ))}\n                      </TableBody>\n                  </Table>\n              </TableContainer>\n          </Box>\n      );\n  }\n  \n      case 'HTMLTEXT':\n        return (\n          <Box>\n            {parse(value)}\n          </Box>\n        );\n     \n        case 'dairyFoodsTable': {\n          const { foods, timeRangesFood, title } = value;\n      \n          // Function to handle \"Check All\" button click\n          const handleCheckAll = () => {\n              foods.forEach((food) => {\n                  // Trigger a change event to check the third radio button (index 2) for each food item\n                  handleChange({\n                      target: {\n                          name: food,\n                          value: '2', // Set to the third option (index 2) for each food\n                      },\n                  });\n              });\n          };\n      \n          return (\n              <Box>\n                  \n                  <TableContainer component={Paper}>\n                      <Table>\n                          <TableHead>\n                              <TableRow>\n                                  <TableCell>{title}</TableCell>\n                                  {timeRangesFood.map((range, index) => (\n                                      <TableCell key={index} sx={{lineHeight:\"19px\"}}>{range}</TableCell>\n                                  ))}\n                              </TableRow>\n                          </TableHead>\n                          <TableBody className=\"radio-table\">\n                              {foods.map((food, rowIndex) => (\n                                  <TableRow key={rowIndex}>\n                                      <TableCell>{food}</TableCell>\n                                      {timeRangesFood.map((range, colIndex) => (\n                                          <TableCell key={colIndex}>\n                                              <FormControlLabel\n                                                  control={\n                                                      <Radio\n                                                          name={food}\n                                                          value={colIndex.toString()}\n                                                          checked={formData[food] === colIndex.toString()}\n                                                          onChange={(e) =>\n                                                              handleChange({\n                                                                  target: {\n                                                                      name: food,\n                                                                      value: e.target.value,\n                                                                  },\n                                                              })\n                                                          }\n                                                      />\n                                                  }\n                                              />\n                                          </TableCell>\n                                      ))}\n                                  </TableRow>\n                              ))}\n                          </TableBody>\n                      </Table>\n                  </TableContainer>\n              </Box>\n          );\n      }\n      \n      \n    \n      case 'FoodsTableTwo': {\n        const { foodsTwo = [], TwotimeRangesFood = [], titleTwo = '' } = value || {};\n    \n        // Function to handle \"Check All\" button click\n        const handleCheckAll = () => {\n            // Set the third option (index 2) for each food pair\n            foodsTwo.forEach((foodPair) => {\n                handleChange({\n                    target: {\n                        name: `${foodPair[0]}_${foodPair[1]}`,\n                        value: '2', // Set to the third option (index 2) for each food pair\n                    },\n                });\n            });\n        };\n    \n        return (\n            <Box>\n               \n                <TableContainer component={Paper}>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>{titleTwo}</TableCell>\n                                <TableCell></TableCell>\n                                {TwotimeRangesFood.map((range, index) => (\n                                    <TableCell sx={{lineHeight:\"19px\"}} key={index}>{range}</TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody className=\"radio-table-two\">\n                            {foodsTwo.map((foodPair, rowIndex) => (\n                                <TableRow key={rowIndex}>\n                                    {/* Each row has two TableCells for the two foods */}\n                                    <TableCell>{foodPair[0]}</TableCell>\n                                    <TableCell>{foodPair[1]}</TableCell>\n                                    {TwotimeRangesFood.map((range, colIndex) => (\n                                        <TableCell key={colIndex}>\n                                            <FormControlLabel\n                                                control={\n                                                    <Radio\n                                                        name={`${foodPair[0]}_${foodPair[1]}`}\n                                                        value={colIndex.toString()}\n                                                        checked={formData[`${foodPair[0]}_${foodPair[1]}`] === colIndex.toString()}\n                                                        onChange={(e) =>\n                                                            handleChange({\n                                                                target: {\n                                                                    name: `${foodPair[0]}_${foodPair[1]}`,\n                                                                    value: e.target.value,\n                                                                },\n                                                            })\n                                                        }\n                                                    />\n                                                }\n                                            />\n                                        </TableCell>\n                                    ))}\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Box>\n        );\n    }\n    \n\n    \n    case 'radioButtonWithData': {\n                const [mainQuestion, ...radioOptionsMany] = value;\n                const selectedOption = formData[mainQuestion] || ''; // Track the selected option\n          \n                return (\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">{mainQuestion}</FormLabel>\n                    <RadioGroup name={mainQuestion} onChange={handleChange} value={selectedOption}>\n                      {radioOptionsMany.map((option, index) => {\n                        const [optionLabel, ...optionDataArray] = option;\n          \n                        return (\n                          <Box key={index}>\n                            <FormControlLabel\n                              value={optionLabel}\n                              control={<Radio sx={customRadioStyles} />}\n                              label={optionLabel}\n                            />\n          \n                            {/* Conditionally render nested data when the option is selected */}\n                            {selectedOption === optionLabel && optionDataArray.length > 0 && (\n                              <Box sx={{ pl: 4 }}>\n                                {optionDataArray.map((nestedData, nestedIndex) => {\n                                  const [nestedKey, nestedValue] = Object.entries(nestedData)[0];\n                                  return (\n                                    <Box key={nestedIndex} sx={{ mt: 2 }}>\n                                      {renderContent(nestedKey, nestedValue, handleChange, formData)}\n                                    </Box>\n                                  );\n                                })}\n                              </Box>\n                            )}\n                          </Box>\n                        );\n                      })}\n                    </RadioGroup>\n                  </FormControl>\n                );\n              }\n\n    case 'button': {\n                const [buttonText, buttonLink] = value;\n                return (\n                  <Button\n                    variant=\"contained\"\n                    href={buttonLink} // Use href to navigate to the specified link\n                    sx={{ my: 2, width: 'fit-content', padding: '8px 16px' }}\n                    target=\"_blank\"\n                  >\n                    {buttonText}\n                  </Button>\n                );\n              }\n    case 'radioFemale':\n        const userSexAtBirth = useSelector((state) => state.questionnaire?.data?.[\"general-information\"]?.[\"What is your sex assigned at birth?\"]) || \"\";\n        \n    // Check if userSexAtBirth is \"Female\", only then render the birth control pill question\n    if (userSexAtBirth === '1') {\n        const [radioFemaleQuestion, ...radioFemaleOptions] = value;\n        return (\n            <FormControl component=\"fieldset\">\n                <FormLabel component=\"legend\">{radioFemaleQuestion}</FormLabel>\n                <RadioGroup name={radioFemaleQuestion} onChange={handleChange} value={formData[radioFemaleQuestion] || ''}>\n                    {radioFemaleOptions.map((option, index) => (\n                        <FormControlLabel\n                            key={index}\n                            value={index.toString()} // Use index as the value\n                            control={<Radio sx={customRadioStyles} />}\n                            label={option}\n                        />\n                    ))}\n                </RadioGroup>\n            </FormControl>\n        );\n    } else {\n        // If not female, don't render anything or render a placeholder\n        return null;\n    }\n    case 'RecuresiveQuestion': {\n      const { inpute, recursiveContent, title } = value; // Destructure input, recursive content, and title\n      const numberOfParents = parseInt(formData[inpute.key] || '0', 10); // Get the number input (default to 0)\n    \n      // Handle input change\n      const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        // Limit the number to the max value\n        if (parseInt(value, 10) <= inpute.max) {\n          handleChange(e); // Call the parent handleChange function\n        }\n      };\n    \n      return (\n        <Box>\n          {/* Display the custom title */}\n          \n    \n          {/* Input field for number of family members */}\n          <FormControl>\n            <FormLabel>{inpute.label}</FormLabel>\n            <TextField\n              type=\"number\"\n              variant=\"outlined\"\n              sx={{ bgcolor: 'white' }}\n              name={inpute.key}\n              value={numberOfParents}\n              onChange={handleInputChange}\n              inputProps={{ min: 0, max: inpute.max }} // Set the max value from inpute.max\n            />\n\n        {numberOfParents > 0 && (\n                  <Typography variant=\"p\" sx={{ mt: 1, color: 'gray',fontSize:\"14px\" }}>\n                    Which family members have been diagnosed with Crohn’s disease, ulcerative colitis, or IBD-unclassified? (Select all that apply.)\n                  </Typography>\n                )}\n          </FormControl>\n    \n          {/* Dynamically render the recursive questions based on the input number */}\n          {Array.from({ length: numberOfParents }).map((_, index) => (\n            <Box key={index} sx={{ mt: 4, p: 2, border: '1px solid #ccc', borderRadius: '8px' }}>\n       \n    \n              {/* Render each section inside the recursiveContent array */}\n              {recursiveContent.map((section, sectionIndex) => (\n                <Box key={sectionIndex} sx={{ mt: 2 }}>\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">\n                      {section.label.replace('index', `${index + 1}`)} \n                    </FormLabel>\n                    <RadioGroup\n                      name={`${inpute.key}_${index}_${section.label}`} // Unique name using the index\n                      value={formData[`${inpute.key}_${index}_${section.label}`] || ''}\n                      onChange={handleChange}\n                    >\n                      {section.options.map((option, optionIndex) => (\n                        <FormControlLabel\n                          key={optionIndex}\n                          value={optionIndex.toString()}\n                          control={<Radio sx={customRadioStyles} />}\n                          label={option}\n                        />\n                      ))}\n                    </RadioGroup>\n                  </FormControl>\n                </Box>\n              ))}\n            </Box>\n          ))}\n        </Box>\n      );\n    }\n    \n    \n    default:\n        return <Typography variant=\"body1\">{value}</Typography>;\n    }\n  };\n\nexport default renderContent;","import React, { useState, useEffect } from 'react';\nimport { Container, Box, Button, CircularProgress,Typography } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCurrentSectionIndex, saveFormData } from '../../store/slice/questionnaireSlice'; \nimport SaveIcon from '@mui/icons-material/Save';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport renderContent from \"../../Data/renderContent\";\nimport {useFinishForm,useCreateForm} from \"../../Hooks/index.mjs\"\nimport {Prefill} from \"../../Data/index\"\nimport {SetFormDataLogin} from \"../../store/slice/questionnaireSlice\" \nconst Section = ({ section, log, handleChange, formData }) => {\n    return (\n        <Box component=\"section\" sx={{ my: 4, display: 'flex', flexDirection: 'column' }}>\n            {Object.entries(section).map(([key, value], index) => (\n                <React.Fragment key={index}>\n                    {renderContent(key, value, handleChange, formData)}\n                </React.Fragment>\n            ))}\n        </Box>\n    );\n};\n\nexport const QestionnairBodyLayout = ({ data, log, type }) => {\n    const [formData, setFormData] = useState({});\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const currentSectionIndex = useSelector((state) => state.questionnaire.currentSectionIndex);\n    const sectionTags = useSelector((state) => state.questionnaire.sectionTags);\n    const savedData = useSelector((state) => state.questionnaire.data[sectionTags[currentSectionIndex]] || {});\n    const allFormData = useSelector((state) => state.questionnaire.data);\n    \n    const [isSaving, setIsSaving] = useState(false);\n    const { createForm :CreateFormQuery, response,loading, error } =  useCreateForm();\n    const { FinishForm :FinishFormQuery, response:responseFinish,loading:loadingFinish, error:errorFinish } =  useFinishForm();\n    \n    \n    useEffect(() => {\n        if (Object.keys(savedData).length > 0) {\n            setFormData(savedData); // Populate the form with saved data if it exists\n        }\n    }, [currentSectionIndex, savedData]);\n\n    useEffect(() => {\n        console.log(\"error:\",error)\n        if (error && (error === 500 || error === 403 )) {\n            navigate(\"/login\");\n           \n        }\n    }, [error]);\n    \n\n    const handleChange = (event) => {\n        const { name, value, type, checked } = event.target;\n        setFormData(prevData => {\n            if (type === 'checkbox') {\n                const newValue = prevData[name] || [];\n                if (checked) {\n                    return { ...prevData, [name]: [...newValue, value] };\n                } else {\n                    return { ...prevData, [name]: newValue.filter(item => item !== value) };\n                }\n            } else {\n                return { ...prevData, [name]: value };\n            }\n        });\n    };\n\n    const validateForm = () => {\n        const formElement = document.getElementById('form');\n        const formFields = formElement.querySelectorAll('input, select, textarea');\n        const checkedRadioGroups = new Set();\n        const checkedCheckboxGroups = new Set();\n        let isValid = true; // Assume the form is valid initially\n    \n        // Reset all fields to remove error indication\n        formFields.forEach((field) => {\n            field.classList.remove('error-field');\n            const parentFieldset = field.closest('fieldset');\n            const legend = parentFieldset?.querySelector('legend');\n            if (legend) {\n                legend.classList.remove('error-field'); // Remove error indication from legend\n            }\n        });\n    \n        // Validate each form field\n        for (const element of formFields) {\n            const parentFieldset = element.closest('fieldset');\n            \n           \n            \n            \n    \n            const fieldName = element.name || element.id || 'Unnamed Field';\n    \n            if (element.type === 'checkbox') {\n                if (element.checked) {\n                    checkedCheckboxGroups.add(element.name);\n                } else {\n                    const legend = parentFieldset?.querySelector('legend');\n                    if (legend) {\n                        legend.classList.add('error-field'); // Add error style to legend\n                    }\n                }\n            } else if (element.type === 'radio') {\n                if (element.checked) {\n                    checkedRadioGroups.add(element.name);\n                }\n            } else if (element.type === 'text') {\n                const fieldValue = element.value.trim();\n                if (!fieldValue) {\n                    console.log(`Text field \"${fieldName}\" is empty!`);\n                    element.classList.add('error-field'); // Mark the empty field in red\n    \n                    const parentDiv = element.closest('.MuiFormControl-root');\n                    const legend = parentDiv?.querySelector('legend');\n                    if (legend && legend.textContent.includes(\"How old are you?\")) {\n                        legend.classList.add('error-field'); // Add error style to \"How old are you?\" legend\n                    }\n                    console.log(\"false 1 \")\n                    isValid = false;\n                }\n            } else {\n                // Additional handling for other input types (e.g., textarea, select)\n                const fieldValue = element.value.trim();\n                if (!fieldValue) {\n                    console.log(`Field \"${fieldName}\" is empty!`);\n                    element.classList.add('error-field'); // Mark the empty field in red\n                    const legend = parentFieldset?.querySelector('legend');\n                    if (legend) {\n                        legend.classList.add('error-field'); // Add error style to legend\n                    }\n                    console.log(\"false 2 \")\n                    \n                    isValid = false;\n                }\n            }\n        }\n    \n        // Handle radio group validation\n        const radioGroups = formElement.querySelectorAll('input[type=\"radio\"]');\n        const uniqueRadioGroups = new Set(Array.from(radioGroups).map(r => r.name));\n    \n        for (const groupName of uniqueRadioGroups) {\n            if (!checkedRadioGroups.has(groupName)) {\n                const groupElements = formElement.querySelectorAll(`input[name=\"${groupName}\"]`);\n                const parentFieldset = groupElements[0]?.closest('fieldset');\n                const legend = parentFieldset?.querySelector('legend');\n                if (legend) {\n                    legend.classList.add('error-field'); // Add error style to legend\n                }\n                console.log(\"groupElements:\",parentFieldset)\n                console.log(\"false 3 \")\n                const isFieldsetNotRequired = parentFieldset?.classList.contains('not-required');\n                console.log(\"isFieldsetNotRequired\",isFieldsetNotRequired)\n                    // Skip validation if the fieldset has the \"not-required\" class\n                    if (isFieldsetNotRequired) {\n                        continue;\n                    }\n                isValid = false;\n            }\n        }\n    \n        // Handle checkbox group validation\n        const checkboxGroups = formElement.querySelectorAll('input[type=\"checkbox\"]');\n        const uniqueCheckboxGroups = new Set(Array.from(checkboxGroups).map(c => c.name));\n    \n        for (const groupName of uniqueCheckboxGroups) {\n            if (!checkedCheckboxGroups.has(groupName)) {\n                const groupElements = formElement.querySelectorAll(`input[name=\"${groupName}\"]`);\n                const parentFieldset = groupElements[0]?.closest('fieldset');\n                const legend = parentFieldset?.querySelector('legend');\n                if (legend) {\n                    legend.classList.add('error-field'); // Add error style to legend\n                }\n                \n                console.log(\"false 4 \")\n                isValid = false;\n            }\n        }\n    \n        // Additional validation for specific tables\n        const radioTable = document.querySelector('.radio-table');\n        if (radioTable) {\n            const rows = radioTable.querySelectorAll('tr');\n            rows.forEach((row) => {\n                const firstCell = row.querySelector('td');\n                if (firstCell) {\n                    firstCell.classList.remove('error-field'); // Reset error style\n                }\n    \n                const radioButtons = row.querySelectorAll('input[type=\"radio\"]');\n                const isSelected = Array.from(radioButtons).some((radio) => radio.checked);\n    \n                if (!isSelected && firstCell) {\n                    firstCell.classList.add('error-field'); // Add error style if no selection\n                }\n            });\n        }\n    \n        const radioTableTwo = document.querySelector('.radio-table-two');\n        if (radioTableTwo) {\n            const rows = radioTableTwo.querySelectorAll('tr');\n            rows.forEach((row) => {\n                const secondCell = row.querySelectorAll('td')[1];\n                if (secondCell) {\n                    secondCell.classList.remove('error-field'); // Reset error style\n                }\n    \n                const radioButtons = row.querySelectorAll('input[type=\"radio\"]');\n                const isSelected = Array.from(radioButtons).some((radio) => radio.checked);\n    \n                if (!isSelected && secondCell) {\n                    secondCell.classList.add('error-field'); // Add error style if no selection\n                    console.log(\"false 5 \")\n                    isValid = false;\n                }\n            });\n        }\n    \n        return isValid;\n    };\n    \n    \n    \n    \n    \n    const handelFill = async () => {\n        //Prefill\n        dispatch(SetFormDataLogin({ data: Prefill }));\n        location.reload();\n    }\n    \n    \n    \n    \n    \n    const handleSave = async () => {\n      setIsSaving(true);  // Set loader to true\n      try {\n        // Call the API to save form data and await the response\n        \n        const updatedFormData = {\n            ...allFormData,                          // Keep all previous sections' data\n            [sectionTags[currentSectionIndex]]: formData // Update the current section's data\n        };\n        const response = await CreateFormQuery(updatedFormData); // No need to wrap in {}\n    \n        // Check if there's an error in the response\n        if (response?.success) {\n          // Dispatch to save the form data in Redux\n          dispatch(saveFormData({ currentSectionIndex, data: formData }));\n          \n          // Display success message\n          toast.success('Form has been saved Questionnaire!', {\n            position: 'top-right',\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          });\n        } else {\n          // If the response indicates failure, handle it\n          throw new Error('Failed to save form data');\n        }\n      } catch (error) {\n        // Log the error and show error toast\n      \n    \n        toast.error('Error saving the Questionnaire. Please try again!', {\n          position: 'top-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      } finally {\n        // Turn off the loader once the process is done\n        setIsSaving(false);\n      }\n    };\n    \n    const handleNext =  () => {\n     \n          \n        if (!validateForm()) {\n            toast.error('Please fill out all fields.', {\n                position: 'top-right',\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n            });\n            return;\n        }\n        dispatch(saveFormData({ currentSectionIndex, data: formData }));\n        const updatedFormData = {\n            ...allFormData,                          // Keep all previous sections' data\n            [sectionTags[currentSectionIndex]]: formData // Update the current section's data\n        };\n        \n        CreateFormQuery(updatedFormData);\n   \n    \n        \n        if (currentSectionIndex < sectionTags.length - 1) {\n            dispatch(setCurrentSectionIndex(currentSectionIndex + 1));\n            setFormData({});\n            navigate(`/${sectionTags[currentSectionIndex + 1]}`);\n        }\n    };\n\n    const handleFinish = () => {\n        if (!validateForm()) {\n            toast.error('Please fill out all fields.', {\n                position: 'top-right',\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n            });\n            return;\n        }\n        const updatedFormData = {\n            ...allFormData,                          // Keep all previous sections' data\n            [sectionTags[currentSectionIndex]]: formData // Update the current section's data\n        };\n       \n        \n        \n        FinishFormQuery(updatedFormData);\n        dispatch(saveFormData({ currentSectionIndex, data: formData }));\n        navigate(`/optional-survey`);\n    };\n\n    const handleBack = () => {\n        if (currentSectionIndex > 0) {\n            dispatch(saveFormData({ currentSectionIndex, data: formData }));\n            dispatch(setCurrentSectionIndex(currentSectionIndex - 1));\n            const updatedFormData = {\n                ...allFormData,                          // Keep all previous sections' data\n                [sectionTags[currentSectionIndex]]: formData // Update the current section's data\n            };\n            \n            CreateFormQuery(updatedFormData);\n            navigate(`/${sectionTags[currentSectionIndex - 1]}`);\n        }\n    };\n\n    return (\n        <Container>\n            <ToastContainer />\n            {type === \"fixe\" ? (\n                <>  \n                <Typography variant=\"body1\">This is an optional short (7 questions) survey that will help further our research. We greatly appreciate \n                you taking the survey, if you can.</Typography>\n                    <div className='bigger-container' style={{paddingTop:\"50px\"}}>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => navigate(\"/crohns-disease-information\")}\n                        className=\"button-survey bigger\"   \n                        \n                    >\n                        Continue to Crohn’s disease information \n                    </Button>\n                    </div>\n                    </>\n                ) :\"\"}\n            <form id=\"form\">\n                {data.map((section, index) => (\n                    <Section key={index} section={section} log={log} handleChange={handleChange} formData={formData} />\n                ))}\n\n                {type === \"fixe\" ? (\n                    <div className='bigger-container'>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => navigate(\"/crohns-disease-information\")}\n                        className=\"button-survey bigger\"   \n                        \n                    >\n                        Continue to Crohn’s disease information\n                    </Button>\n                    </div>\n                ) : (\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n                        <Button className=\"button-survey\" variant=\"contained\" onClick={handleBack} disabled={currentSectionIndex === 0}>\n                            Back\n                        </Button>\n\n                        {/* Save button next to Back */}\n                        <Button\n                            variant=\"contained\"\n                            className=\"button-survey\"\n                            color=\"primary\"\n                            onClick={handleSave}\n                            disabled={isSaving}\n                        >\n                            {isSaving ? 'Saving...' : 'Save'}\n                        </Button>\n\n                        {currentSectionIndex < sectionTags.length - 1 ? (\n                            <>\n                            <Button className=\"button-survey\" variant=\"contained\" onClick={handleNext}>\n                                Next\n                            </Button>\n                            \n                        </>\n                        ) : (\n                            <Button className=\"button-survey\" variant=\"contained\" onClick={handleFinish}>\n                                Finish\n                            </Button>\n                        )}\n                    </Box>\n                    \n                )}\n                {type === \"fixe\"? \"\": \n                <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n                <Button className=\"button-survey\" variant=\"contained\" onClick={handelFill}>\n                            Fill\n                            </Button>\n                            </Box>}\n            </form>\n            \n        </Container>\n    );\n};\n","import React,{useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Container } from '@mui/material';\nimport { QestionnairBodyLayout } from \"../Components/Layout/index.mjs\";\nimport { setCurrentSectionIndex, saveFormData } from '../store/slice/questionnaireSlice';\nimport { useVerifyToken } from '../Hooks/useVerifyToken'; \nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nconst Questionnaire = ({ title, Data,type }) => {\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const currentSectionIndex = useSelector((state) => state.questionnaire.currentSectionIndex);\n    const sectionTags = useSelector((state) => state.questionnaire.sectionTags);\n    const { sectionTag } = useParams();\n    const { loading: verifyingToken, error: verifyError,success:verifySucces ,userRole} = useVerifyToken();\n\n    useEffect(() => {\n        console.log(\"state:\",userRole.state)\n        if(userRole.state===\"1\"){\n            if(userRole.role !==\"1\" && type !==\"fixe\"){\n                navigate('/profile?role='+userRole.role); \n            }   \n        }\n        \n      }, [verifySucces]);\n  \n    useEffect(() => {\n      const expectedSectionTag = sectionTags[currentSectionIndex]; // Get the expected sectionTag based on the currentSectionIndex\n       \n        \n      // Check if the current sectionTag in the URL matches the expected sectionTag\n      if (sectionTag !== expectedSectionTag) {\n        // If not, navigate to the correct section\n        //type\n        if( type !== \"fixe\"){\n        navigate(`/${expectedSectionTag}`);}\n      }\n    }, [sectionTag, currentSectionIndex, sectionTags, navigate]);\n    return (\n        <>\n        <Helmet>\n                <title>My PRE-Crohn’s Survey</title>\n      </Helmet>\n            {title ? <div className='title-content'><h1>{title}</h1></div> : \"\"}\n            <Container className=\"my-4 qstn-body\">\n                <div className=\"\">\n                    <QestionnairBodyLayout \n                        data={Data} \n                        log={true} \n                        type={type}\n                     \n                    />\n                </div>\n                \n            </Container>\n        </>\n    );\n};\n\nexport default Questionnaire;\n"],"names":["useCreateForm","response","setResponse","useState","loading","setLoading","error","setError","formData","axios","err","useFinishForm","customRadioStyles","customCheckboxStyles","renderContent","key","value","handleChange","isInvalid","name","jsx","Typography","text","index","parse","radioQuestion","radioOptions","jsxs","FormControl","FormLabel","RadioGroup","option","FormControlLabel","Radio","checkboxQuestion","checkboxOptions","Checkbox","checkboxKeyQuestion","checkboxKeyOptions","item","Box","subIndex","TextField","ladderQuestion","ladderOptions","_","activities","weightTrainingActivities","timeRanges","TableContainer","Paper","Table","TableHead","TableRow","TableCell","range","TableBody","activity","rowIndex","colIndex","e","weightActivity","foods","timeRangesFood","title","food","foodsTwo","TwotimeRangesFood","titleTwo","foodPair","mainQuestion","radioOptionsMany","selectedOption","optionLabel","optionDataArray","nestedData","nestedIndex","nestedKey","nestedValue","buttonText","buttonLink","Button","useSelector","state","_c","_b","_a","radioFemaleQuestion","radioFemaleOptions","inpute","recursiveContent","numberOfParents","handleInputChange","section","sectionIndex","optionIndex","Section","log","React","QestionnairBodyLayout","data","type","setFormData","navigate","useNavigate","dispatch","useDispatch","currentSectionIndex","sectionTags","savedData","allFormData","isSaving","setIsSaving","CreateFormQuery","FinishFormQuery","responseFinish","loadingFinish","errorFinish","useEffect","event","checked","prevData","newValue","validateForm","formElement","formFields","checkedRadioGroups","checkedCheckboxGroups","isValid","field","parentFieldset","legend","element","fieldName","parentDiv","radioGroups","uniqueRadioGroups","r","groupName","isFieldsetNotRequired","checkboxGroups","uniqueCheckboxGroups","c","radioTable","row","firstCell","radioButtons","radio","radioTableTwo","secondCell","handelFill","SetFormDataLogin","Prefill","handleSave","updatedFormData","saveFormData","toast","handleNext","setCurrentSectionIndex","handleFinish","handleBack","Container","ToastContainer","Fragment","Questionnaire","Data","sectionTag","useParams","verifyingToken","verifyError","verifySucces","userRole","useVerifyToken","expectedSectionTag","Helmet"],"mappings":"kjBAGO,MAAMA,GAAgB,IAAM,CACjC,KAAM,CAACC,EAAUC,CAAW,EAAIC,WAAS,IAAI,EACvC,CAACC,EAASC,CAAU,EAAIF,WAAS,EAAK,EACtC,CAACG,EAAOC,CAAQ,EAAIJ,WAAS,IAAI,EAkCvC,MAAO,CAAE,WAhCU,MAAOK,GAAa,CACrCH,EAAW,EAAI,EACfE,EAAS,IAAI,EACbL,EAAY,IAAI,EAEZ,GAAA,CACID,MAAAA,EAAW,MAAMQ,GAAM,KAC3B,0DACA,CAAE,UAAWD,CAAS,EACtB,CACE,QAAS,CACP,cAAiB,GAAG,aAAa,QAAQ,OAAO,CAAC,GACjD,eAAgB,kBAClB,CACF,CAAA,EAIF,OAAAN,EAAYD,EAAS,IAAI,EAClBA,EAAS,WACTS,EAAK,CAIZH,EAASG,EAAI,SAAWA,EAAI,SAAS,OAASA,EAAI,OAAO,CAAA,QAGzD,CACAL,EAAW,EAAK,CAClB,CAAA,EAGmB,SAAAJ,EAAU,QAAAG,EAAS,MAAAE,CAAM,CAChD,ECtCaK,GAAgB,IAAM,CACjC,KAAM,CAACV,EAAUC,CAAW,EAAIC,WAAS,IAAI,EACvC,CAACC,EAASC,CAAU,EAAIF,WAAS,EAAK,EACtC,CAACG,EAAOC,CAAQ,EAAIJ,WAAS,IAAI,EAkCvC,MAAO,CAAE,WAhCU,MAAOK,GAAa,CACrCH,EAAW,EAAI,EACfE,EAAS,IAAI,EACbL,EAAY,IAAI,EAEZ,GAAA,CACID,MAAAA,EAAW,MAAMQ,GAAM,KAC3B,iEACA,CAAE,UAAWD,CAAS,EACtB,CACE,QAAS,CACP,cAAiB,GAAG,aAAa,QAAQ,OAAO,CAAC,GACjD,eAAgB,kBAClB,CACF,CAAA,EAIF,OAAAN,EAAYD,EAAS,IAAI,EAClBA,EAAS,WACTS,EAAK,CAIZH,EAASG,EAAI,SAAWA,EAAI,SAAS,OAASA,EAAI,OAAO,CAAA,QAGzD,CACAL,EAAW,EAAK,CAClB,CAAA,EAGmB,SAAAJ,EAAU,QAAAG,EAAS,MAAAE,CAAM,CAChD,EC3BMM,EAAoB,CACxB,mBAAoB,CAChB,MAAO,OACX,EACA,+BAAgC,CAC5B,MAAO,OACX,EACA,oCAAqC,CACjC,gBAAiB,QACjB,aAAc,KAClB,CACF,EAEMC,GAAuB,CAC3B,sBAAuB,CACnB,MAAO,OACX,EACA,kCAAmC,CAC/B,MAAO,OACX,EACA,uCAAwC,CACpC,gBAAiB,OACrB,CACF,EAEMC,GAAgB,CAACC,EAAKC,EAAOC,EAAcT,IAAa,CACtD,MAAAU,EAAaC,GAAS,CAACX,EAASW,CAAI,GAAKX,EAAS,eAAeW,CAAI,EACzE,OAAQJ,EAAK,CACX,IAAK,KACH,OAAQK,EAAAA,IAAAC,EAAA,CAAW,QAAQ,KAAM,SAAML,CAAA,CAAA,EAEzC,IAAK,OACI,OAAA,MAAM,QAAQA,CAAK,EACtBA,EAAM,IAAI,CAACM,EAAMC,IAAUH,EAAA,IAACC,EAAuB,CAAA,QAAQ,QAAS,SAAMG,GAAAF,CAAI,CAAlC,EAAAC,CAAoC,CAAa,EAC5FH,EAAA,IAAAC,EAAA,CAAW,QAAQ,QAAS,SAAMG,GAAAR,CAAK,CAAE,CAAA,EAEhD,IAAK,QACC,KAAM,CAACS,EAAe,GAAGC,CAAY,EAAIV,EAEvC,OAAAW,EAAA,KAACC,EAAY,CAAA,UAAU,WACrB,SAAA,CAACR,EAAA,IAAAS,EAAA,CAAU,UAAU,SAAU,SAAcJ,EAAA,EAC7CL,EAAA,IAACU,EAAA,CACC,KAAML,EACN,SAAUR,EACV,MAAOT,EAASiB,CAAa,GAAK,GAEjC,SAAaC,EAAA,IAAI,CAACK,EAAQR,IACzBH,EAAA,IAACY,EAAA,CAEC,MAAOT,EAAM,SAAS,EACtB,QAAUH,EAAA,IAAAa,EAAA,CAAM,GAAI,CAAE,GAAGrB,EAAmB,GAAIM,EAAUO,CAAa,EAAI,CAAE,OAAQ,iBAAoB,CAAA,CAAO,CAAA,CAAA,EAChH,MAAOM,CAAA,EAHFR,CAAA,CAKR,CAAA,CACH,CACF,CAAA,CAAA,EAIR,IAAK,WACL,KAAM,CAACW,EAAkB,GAAGC,CAAe,EAAInB,EAE7C,OAAAW,EAAA,KAACC,EAAY,CAAA,UAAU,WACrB,SAAA,CAACR,EAAA,IAAAS,EAAA,CAAU,UAAU,SAAU,SAAiBK,EAAA,EAC/CC,EAAgB,IAAI,CAACJ,EAAQR,IAC5BH,EAAA,IAACY,EAAA,CAEC,QACEZ,EAAA,IAACgB,GAAA,CACC,GAAI,CAAE,GAAGvB,GAAsB,GAAIK,EAAUgB,CAAgB,EAAI,CAAE,OAAQ,eAAgB,EAAI,EAAI,EACnG,KAAMA,EACN,MAAOH,EACP,SAAUvB,EAAS0B,CAAgB,GAAK,CAAC,GAAG,SAASH,CAAM,EAC3D,SAAUd,CAAA,CACZ,EAEF,MAAOc,CAAA,EAVFR,CAAA,CAYR,CACH,CAAA,CAAA,EAGF,IAAK,cACH,KAAM,CAACc,EAAqB,GAAGC,CAAkB,EAAItB,EAEnD,OAAAW,EAAA,KAACC,EAAY,CAAA,UAAU,WACrB,SAAA,CAACR,EAAA,IAAAS,EAAA,CAAU,UAAU,SAAU,SAAoBQ,EAAA,EAClDC,EAAmB,IAAI,CAACC,EAAMhB,IAC5BI,EAAA,KAAAa,EAAA,CAAgB,GAAI,CAAE,GAAI,CAAA,EACzB,SAAA,CAAApB,EAAA,IAACC,EAAW,CAAA,QAAQ,QAAS,SAAAkB,EAAK,MAAM,EACxCnB,EAAA,IAACU,EAAA,CACC,KAAM,GAAGO,CAAmB,IAAIE,EAAK,KAAK,GAC1C,SAAUtB,EACV,MAAOT,EAAS,GAAG6B,CAAmB,IAAIE,EAAK,KAAK,EAAE,GAAK,GAE1D,SAAKA,EAAA,QAAQ,IAAI,CAACR,EAAQU,IACzBrB,EAAA,IAACY,EAAA,CAEC,MAAOS,EAAS,SAAS,EACzB,QAASrB,EAAAA,IAACa,EAAM,CAAA,GAAIrB,CAAmB,CAAA,EACvC,MAAOmB,CAAA,EAHFU,CAAA,CAKR,CAAA,CACH,CAAA,CAAA,EAfQlB,CAgBV,CACD,CACH,CAAA,CAAA,EAGJ,IAAK,QACL,cACGK,EACC,CAAA,SAAA,CAACR,EAAA,IAAAS,EAAA,CAAU,UAAU,SAAU,SAAMb,EAAA,EACrCI,EAAA,IAAC,QAAA,CACC,QAAQ,WACR,GAAI,CAAE,QAAS,QAAS,GAAIF,EAAUF,CAAK,EAAI,CAAE,OAAQ,eAAgB,EAAI,EAAI,EACjF,KAAMA,EACN,MAAOR,EAASQ,CAAK,GAAK,GAC1B,SAAUC,EACV,MAAOD,CAAA,CACT,CACF,CAAA,CAAA,EAEF,IAAK,WACL,OACGI,EAAAA,IAAAQ,EAAA,CACE,SAAMZ,EAAA,IAAI,CAACuB,EAAMhB,IACfI,EAAA,KAAAa,EAAA,CAAgB,GAAI,CAAE,GAAI,EAAG,OAAQ,MACpC,EAAA,SAAA,CAACpB,EAAAA,IAAAS,EAAA,CAAW,WAAK,KAAM,CAAA,EACvBT,EAAA,IAACsB,GAAA,CACC,QAAQ,WACR,GAAI,CAAE,QAAS,QAAS,OAAQ,OAAQ,GAAIxB,EAAUqB,EAAK,KAAK,EAAI,CAAE,OAAQ,eAAgB,EAAI,CAAA,CAAI,EACtG,KAAMA,EAAK,MACX,MAAO/B,EAAS+B,EAAK,KAAK,GAAK,GAC/B,SAAUtB,CAAA,CACZ,CAAA,GARQM,CASV,CACD,CACH,CAAA,EAGF,IAAK,cAAe,CACd,KAAA,CAACoB,EAAgBC,CAAa,EAAI5B,EAExC,cACGY,EAAY,CAAA,UAAU,eAAe,UAAU,WAAW,GAAI,CAAE,QAAS,OAAQ,cAAe,SAAU,WAAY,aAAc,UAAU,MAC7I,EAAA,SAAA,CAACR,EAAAA,IAAAS,EAAA,CAAU,UAAU,SAAS,GAAI,CAAE,GAAI,EAAG,UAAW,MAAO,EAAI,SAAec,CAAA,CAAA,EAEhFhB,OAACa,GAAI,GAAI,CAAE,QAAS,OAAQ,WAAY,YACtC,EAAA,SAAA,CAAApB,EAAA,IAACoB,EAAI,CAAA,GAAI,CAAE,QAAS,OAAQ,cAAe,SAAU,WAAY,aAAc,GAAI,GAChF,SAAcI,EAAA,IAAI,CAACC,EAAGtB,IACpBH,EAAA,IAAAC,EAAA,CAAuB,GAAI,CAAE,OAAQ,OAAQ,QAAS,OAAQ,WAAY,QAAS,EACjF,WAAc,OAAS,EAAIE,GADbA,CAEjB,CACD,EACH,EAEAH,EAAA,IAACU,EAAA,CACC,KAAMa,EACN,SAAU1B,EACV,MAAOT,EAASmC,CAAc,GAAK,GACnC,GAAI,CAAE,QAAS,OAAQ,cAAe,SAAU,eAAgB,gBAAiB,OAAQ,OAAQ,EAEhG,SAAcC,EAAA,IAAI,CAACC,EAAGtB,IACrBH,EAAA,IAACY,EAAA,CAEC,OAAQY,EAAc,OAAS,EAAIrB,GAAO,SAAS,EACnD,QAAUH,EAAA,IAAAa,EAAA,CAAM,GAAI,CAAE,GAAGrB,EAAmB,GAAIM,EAAUyB,CAAc,EAAI,CAAE,OAAQ,iBAAoB,CAAA,CAAO,CAAA,CAAA,EACjH,MAAM,GACN,GAAI,CAAE,QAAS,OAAQ,eAAgB,SAAU,OAAQ,MAAO,CAAA,EAJ3DpB,CAAA,CAMR,CAAA,CACH,QAECiB,EAAI,CAAA,GAAI,CAAE,QAAS,OAAQ,cAAe,SAAU,WAAY,aAAc,GAAI,EAAG,OAAQ,QAAS,eAAgB,iBACpH,SAAAI,EAAc,IAAI,CAACb,EAAQR,IAC1BH,EAAA,IAACC,EAAuB,CAAA,GAAI,CAAE,OAAQ,OAAQ,QAAS,OAAQ,WAAY,UACxE,SADcU,GAAAR,CAEjB,CACD,EACH,CAAA,EACF,CACF,CAAA,CAAA,CAEJ,CAKA,IAAK,4BAA6B,CAChC,KAAM,CAAE,WAAAuB,EAAY,yBAAAC,EAA0B,WAAAC,CAAA,EAAehC,EAK7D,aACKwB,EAEG,CAAA,SAAApB,EAAA,IAAC6B,IAAe,UAAWC,EACvB,gBAACC,GACG,CAAA,SAAA,CAAC/B,EAAA,IAAAgC,GAAA,CACG,gBAACC,EACG,CAAA,SAAA,CAAAjC,EAAAA,IAACkC,GAAU,SAAQ,UAAA,CAAA,EAClBN,EAAW,IAAI,CAACO,EAAOhC,IACnBH,EAAAA,IAAAkC,EAAA,CAAU,GAAI,CAAC,WAAW,MAAsB,EAAA,SAAAC,CAAA,EAARhC,CAAc,CAC1D,CAAA,CAAA,CACL,CACJ,CAAA,EACAI,EAAAA,KAAC6B,GAAU,CAAA,UAAU,cAChB,SAAA,CAAAV,EAAW,IAAI,CAACW,EAAUC,WACtBL,EACG,CAAA,SAAA,CAAAjC,EAAAA,IAACkC,GAAW,SAASG,CAAA,CAAA,EACpBT,EAAW,IAAI,CAACO,EAAOI,UACnBL,EACG,CAAA,SAAAlC,EAAA,IAACY,EAAA,CACG,QACIZ,EAAA,IAACa,EAAA,CACG,KAAMwB,EACN,MAAOE,EAAS,SAAS,EACzB,QAASnD,EAASiD,CAAQ,IAAME,EAAS,SAAS,EAClD,SAAWC,GACP3C,EAAa,CACT,OAAQ,CACJ,KAAMwC,EACN,MAAOG,EAAE,OAAO,KACpB,CAAA,CACH,CAAA,CAET,CAAA,CAAA,CAER,EAjBYD,CAkBhB,CACH,CAAA,CAAA,EAtBUD,CAuBf,CACH,EAGAtC,EAAA,IAAAiC,EAAA,CACG,SAACjC,EAAA,IAAAkC,EAAA,CAAU,QAAS,GAChB,SAAClC,EAAAA,IAAAC,EAAA,CAAW,QAAQ,KAAK,SAEzB,0EAAA,CAAA,CACJ,CAAA,EACJ,EAEC0B,EAAyB,IAAI,CAACc,EAAgBH,WAC1CL,EACG,CAAA,SAAA,CAAAjC,EAAAA,IAACkC,GAAW,SAAeO,CAAA,CAAA,EAC1Bb,EAAW,IAAI,CAACO,EAAOI,UACnBL,EACG,CAAA,SAAAlC,EAAA,IAACY,EAAA,CACG,QACIZ,EAAA,IAACa,EAAA,CACG,KAAM4B,EACN,MAAOF,EAAS,SAAS,EACzB,QAASnD,EAASqD,CAAc,IAAMF,EAAS,SAAS,EACxD,SAAWC,GACP3C,EAAa,CACT,OAAQ,CACJ,KAAM4C,EACN,MAAOD,EAAE,OAAO,KACpB,CAAA,CACH,CAAA,CAET,CAAA,CAAA,CAER,EAjBYD,CAkBhB,CACH,CAAA,CAAA,EAtBUD,CAuBf,CACH,CAAA,EACL,CAAA,EACJ,EACJ,CACJ,CAAA,CAER,CAEI,IAAK,WACH,OACGtC,EAAAA,IAAAoB,EAAA,CACE,SAAMhB,GAAAR,CAAK,CACd,CAAA,EAGF,IAAK,kBAAmB,CACtB,KAAM,CAAE,MAAA8C,EAAO,eAAAC,EAAgB,MAAAC,CAAA,EAAUhD,EAezC,aACKwB,EAEG,CAAA,SAAApB,EAAA,IAAC6B,IAAe,UAAWC,EACvB,gBAACC,GACG,CAAA,SAAA,CAAC/B,EAAA,IAAAgC,GAAA,CACG,gBAACC,EACG,CAAA,SAAA,CAAAjC,EAAAA,IAACkC,GAAW,SAAMU,CAAA,CAAA,EACjBD,EAAe,IAAI,CAACR,EAAOhC,IACvBH,EAAAA,IAAAkC,EAAA,CAAsB,GAAI,CAAC,WAAW,MAAU,EAAA,SAAAC,CAAA,EAAjChC,CAAuC,CAC1D,CAAA,CAAA,CACL,CACJ,CAAA,EACAH,EAAAA,IAACoC,GAAU,CAAA,UAAU,cAChB,SAAAM,EAAM,IAAI,CAACG,EAAMP,IACd/B,EAAA,KAAC0B,EACG,CAAA,SAAA,CAAAjC,EAAAA,IAACkC,GAAW,SAAKW,CAAA,CAAA,EAChBF,EAAe,IAAI,CAACR,EAAOI,UACvBL,EACG,CAAA,SAAAlC,EAAA,IAACY,EAAA,CACG,QACIZ,EAAA,IAACa,EAAA,CACG,KAAMgC,EACN,MAAON,EAAS,SAAS,EACzB,QAASnD,EAASyD,CAAI,IAAMN,EAAS,SAAS,EAC9C,SAAWC,GACP3C,EAAa,CACT,OAAQ,CACJ,KAAMgD,EACN,MAAOL,EAAE,OAAO,KACpB,CAAA,CACH,CAAA,CAET,CAAA,CAAA,CAER,EAjBYD,CAkBhB,CACH,CAAA,GAtBUD,CAuBf,CACH,EACL,CAAA,EACJ,EACJ,CACJ,CAAA,CAER,CAIA,IAAK,gBAAiB,CACd,KAAA,CAAE,SAAAQ,EAAW,CAAI,EAAA,kBAAAC,EAAoB,CAAA,EAAI,SAAAC,EAAW,EAAA,EAAOpD,GAAS,GAe1E,aACKwB,EAEG,CAAA,SAAApB,EAAA,IAAC6B,IAAe,UAAWC,EACvB,gBAACC,GACG,CAAA,SAAA,CAAC/B,EAAA,IAAAgC,GAAA,CACG,gBAACC,EACG,CAAA,SAAA,CAAAjC,EAAAA,IAACkC,GAAW,SAASc,CAAA,CAAA,QACpBd,EAAU,EAAA,EACVa,EAAkB,IAAI,CAACZ,EAAOhC,IAC1BH,EAAAA,IAAAkC,EAAA,CAAU,GAAI,CAAC,WAAW,MAAsB,EAAA,SAAAC,CAAA,EAARhC,CAAc,CAC1D,CAAA,CAAA,CACL,CACJ,CAAA,EACAH,EAAAA,IAACoC,GAAU,CAAA,UAAU,kBAChB,SAAAU,EAAS,IAAI,CAACG,EAAUX,IACrB/B,EAAA,KAAC0B,EAEG,CAAA,SAAA,CAACjC,EAAA,IAAAkC,EAAA,CAAW,SAASe,EAAA,CAAC,CAAE,CAAA,EACvBjD,EAAA,IAAAkC,EAAA,CAAW,SAASe,EAAA,CAAC,CAAE,CAAA,EACvBF,EAAkB,IAAI,CAACZ,EAAOI,UAC1BL,EACG,CAAA,SAAAlC,EAAA,IAACY,EAAA,CACG,QACIZ,EAAA,IAACa,EAAA,CACG,KAAM,GAAGoC,EAAS,CAAC,CAAC,IAAIA,EAAS,CAAC,CAAC,GACnC,MAAOV,EAAS,SAAS,EACzB,QAASnD,EAAS,GAAG6D,EAAS,CAAC,CAAC,IAAIA,EAAS,CAAC,CAAC,EAAE,IAAMV,EAAS,SAAS,EACzE,SAAWC,GACP3C,EAAa,CACT,OAAQ,CACJ,KAAM,GAAGoD,EAAS,CAAC,CAAC,IAAIA,EAAS,CAAC,CAAC,GACnC,MAAOT,EAAE,OAAO,KACpB,CAAA,CACH,CAAA,CAET,CAAA,CAAA,CAER,EAjBYD,CAkBhB,CACH,CAAA,GAxBUD,CAyBf,CACH,EACL,CAAA,EACJ,EACJ,CACJ,CAAA,CAER,CAIA,IAAK,sBAAuB,CAChB,KAAM,CAACY,EAAc,GAAGC,CAAgB,EAAIvD,EACtCwD,EAAiBhE,EAAS8D,CAAY,GAAK,GAG/C,OAAA3C,EAAA,KAACC,EAAY,CAAA,UAAU,WACrB,SAAA,CAACR,EAAA,IAAAS,EAAA,CAAU,UAAU,SAAU,SAAayC,EAAA,EAC3ClD,EAAAA,IAAAU,EAAA,CAAW,KAAMwC,EAAc,SAAUrD,EAAc,MAAOuD,EAC5D,SAAiBD,EAAA,IAAI,CAACxC,EAAQR,IAAU,CACvC,KAAM,CAACkD,EAAa,GAAGC,CAAe,EAAI3C,EAE1C,cACGS,EACC,CAAA,SAAA,CAAApB,EAAA,IAACY,EAAA,CACC,MAAOyC,EACP,QAASrD,EAAAA,IAACa,EAAM,CAAA,GAAIrB,CAAmB,CAAA,EACvC,MAAO6D,CAAA,CACT,EAGCD,IAAmBC,GAAeC,EAAgB,OAAS,SACzDlC,EAAI,CAAA,GAAI,CAAE,GAAI,GACZ,SAAAkC,EAAgB,IAAI,CAACC,EAAYC,IAAgB,CAC1C,KAAA,CAACC,EAAWC,CAAW,EAAI,OAAO,QAAQH,CAAU,EAAE,CAAC,EAC7D,OACGvD,EAAAA,IAAAoB,EAAA,CAAsB,GAAI,CAAE,GAAI,GAC9B,SAAA1B,GAAc+D,EAAWC,EAAa7D,EAAcT,CAAQ,GADrDoE,CAEV,CAEH,CAAA,EACH,CAAA,CAAA,EAlBMrD,CAoBV,CAEH,CAAA,EACH,CACF,CAAA,CAAA,CAEJ,CAEV,IAAK,SAAU,CACG,KAAA,CAACwD,EAAYC,CAAU,EAAIhE,EAE/B,OAAAI,EAAA,IAAC6D,EAAA,CACC,QAAQ,YACR,KAAMD,EACN,GAAI,CAAE,GAAI,EAAG,MAAO,cAAe,QAAS,UAAW,EACvD,OAAO,SAEN,SAAAD,CAAA,CAAA,CAGP,CACV,IAAK,cAIL,IAH2BG,EAAaC,GAAU,WAAA,OAAAC,GAAAC,GAAAC,EAAAH,EAAM,gBAAN,YAAAG,EAAqB,OAArB,YAAAD,EAA4B,yBAA5B,YAAAD,EAAqD,uCAAsC,GAAK,MAG3H,IAAK,CACxB,KAAM,CAACG,EAAqB,GAAGC,CAAkB,EAAIxE,EAEjD,OAAAW,EAAA,KAACC,EAAY,CAAA,UAAU,WACnB,SAAA,CAACR,EAAA,IAAAS,EAAA,CAAU,UAAU,SAAU,SAAoB0D,EAAA,EAClDnE,EAAA,IAAAU,EAAA,CAAW,KAAMyD,EAAqB,SAAUtE,EAAc,MAAOT,EAAS+E,CAAmB,GAAK,GAClG,SAAAC,EAAmB,IAAI,CAACzD,EAAQR,IAC7BH,EAAA,IAACY,EAAA,CAEG,MAAOT,EAAM,SAAS,EACtB,QAASH,EAAAA,IAACa,EAAM,CAAA,GAAIrB,CAAmB,CAAA,EACvC,MAAOmB,CAAA,EAHFR,CAKZ,CAAA,EACL,CACJ,CAAA,CAAA,CAAA,KAIG,QAAA,KAEX,IAAK,qBAAsB,CACzB,KAAM,CAAE,OAAAkE,EAAQ,iBAAAC,EAAkB,MAAA1B,CAAA,EAAUhD,EACtC2E,EAAkB,SAASnF,EAASiF,EAAO,GAAG,GAAK,IAAK,EAAE,EAG1DG,EAAqBhC,GAAM,CAC/B,KAAM,CAAE,KAAAzC,EAAM,MAAAH,CAAAA,EAAU4C,EAAE,OAEtB,SAAS5C,EAAO,EAAE,GAAKyE,EAAO,KAChCxE,EAAa2C,CAAC,CAChB,EAGF,cACGpB,EAKC,CAAA,SAAA,CAAAb,OAACC,EACC,CAAA,SAAA,CAACR,EAAAA,IAAAS,EAAA,CAAW,WAAO,KAAM,CAAA,EACzBT,EAAA,IAACsB,GAAA,CACC,KAAK,SACL,QAAQ,WACR,GAAI,CAAE,QAAS,OAAQ,EACvB,KAAM+C,EAAO,IACb,MAAOE,EACP,SAAUC,EACV,WAAY,CAAE,IAAK,EAAG,IAAKH,EAAO,GAAI,CAAA,CACxC,EAEHE,EAAkB,GACRvE,MAAAC,EAAA,CAAW,QAAQ,IAAI,GAAI,CAAE,GAAI,EAAG,MAAO,OAAO,SAAS,QAAU,SAEtE,mIAAA,CAAA,EAER,EAGC,MAAM,KAAK,CAAE,OAAQsE,CAAiB,CAAA,EAAE,IAAI,CAAC9C,EAAGtB,IAC9CH,EAAA,IAAAoB,EAAA,CAAgB,GAAI,CAAE,GAAI,EAAG,EAAG,EAAG,OAAQ,iBAAkB,aAAc,OAIzE,WAAiB,IAAI,CAACqD,EAASC,IAC9B1E,MAACoB,EAAuB,CAAA,GAAI,CAAE,GAAI,GAChC,SAACb,EAAAA,KAAAC,EAAA,CAAY,UAAU,WACrB,SAAA,CAACR,EAAA,IAAAS,EAAA,CAAU,UAAU,SAClB,SAAQgE,EAAA,MAAM,QAAQ,QAAS,GAAGtE,EAAQ,CAAC,EAAE,CAChD,CAAA,EACAH,EAAA,IAACU,EAAA,CACC,KAAM,GAAG2D,EAAO,GAAG,IAAIlE,CAAK,IAAIsE,EAAQ,KAAK,GAC7C,MAAOrF,EAAS,GAAGiF,EAAO,GAAG,IAAIlE,CAAK,IAAIsE,EAAQ,KAAK,EAAE,GAAK,GAC9D,SAAU5E,EAET,SAAQ4E,EAAA,QAAQ,IAAI,CAAC9D,EAAQgE,IAC5B3E,EAAA,IAACY,EAAA,CAEC,MAAO+D,EAAY,SAAS,EAC5B,QAAS3E,EAAAA,IAACa,EAAM,CAAA,GAAIrB,CAAmB,CAAA,EACvC,MAAOmB,CAAA,EAHFgE,CAAA,CAKR,CAAA,CACH,CAAA,CAAA,CACF,CAnBQ,EAAAD,CAoBV,CACD,CAAA,EA1BOvE,CA2BV,CACD,CACH,CAAA,CAAA,CAEJ,CAGA,QACI,OAAQH,EAAAA,IAAAC,EAAA,CAAW,QAAQ,QAAS,SAAML,CAAA,CAAA,CAC9C,CACF,EC/jBIgF,GAAU,CAAC,CAAE,QAAAH,EAAS,IAAAI,EAAK,aAAAhF,EAAc,SAAAT,WAEtCgC,EAAI,CAAA,UAAU,UAAU,GAAI,CAAE,GAAI,EAAG,QAAS,OAAQ,cAAe,QAAS,EAC1E,SAAO,OAAA,QAAQqD,CAAO,EAAE,IAAI,CAAC,CAAC9E,EAAKC,CAAK,EAAGO,IACxCH,EAAAA,IAAC8E,GAAM,SAAN,CACI,SAAcpF,GAAAC,EAAKC,EAAOC,EAAcT,CAAQ,CADhC,EAAAe,CAErB,CACH,CACL,CAAA,EAIK4E,GAAwB,CAAC,CAAE,KAAAC,EAAM,IAAAH,EAAK,KAAAI,KAAW,CAC1D,KAAM,CAAC7F,EAAU8F,CAAW,EAAInG,EAAA,SAAS,CAAE,CAAA,EACrCoG,EAAWC,KACXC,EAAWC,KACXC,EAAsBzB,EAAaC,GAAUA,EAAM,cAAc,mBAAmB,EACpFyB,EAAc1B,EAAaC,GAAUA,EAAM,cAAc,WAAW,EACpE0B,EAAY3B,EAAaC,GAAUA,EAAM,cAAc,KAAKyB,EAAYD,CAAmB,CAAC,GAAK,CAAE,CAAA,EACnGG,EAAc5B,EAAaC,GAAUA,EAAM,cAAc,IAAI,EAE7D,CAAC4B,EAAUC,CAAW,EAAI7G,WAAS,EAAK,EACxC,CAAE,WAAY8G,EAAiB,SAAAhH,EAAS,QAAAG,EAAS,MAAAE,CAAA,EAAWN,KAC5D,CAAE,WAAYkH,EAAiB,SAASC,EAAe,QAAQC,EAAe,MAAMC,CAAY,EAAK1G,GAAc,EAGzH2G,EAAAA,UAAU,IAAM,CACR,OAAO,KAAKT,CAAS,EAAE,OAAS,GAChCP,EAAYO,CAAS,CACzB,EACD,CAACF,EAAqBE,CAAS,CAAC,EAEnCS,EAAAA,UAAU,IAAM,CACJ,QAAA,IAAI,SAAShH,CAAK,EACtBA,IAAUA,IAAU,KAAOA,IAAU,MACrCiG,EAAS,QAAQ,CAErB,EACD,CAACjG,CAAK,CAAC,EAGJ,MAAAW,EAAgBsG,GAAU,CAC5B,KAAM,CAAE,KAAApG,EAAM,MAAAH,EAAO,KAAAqF,EAAM,QAAAmB,GAAYD,EAAM,OAC7CjB,EAAwBmB,GAAA,CACpB,GAAIpB,IAAS,WAAY,CACrB,MAAMqB,EAAWD,EAAStG,CAAI,GAAK,CAAA,EACnC,OAAIqG,EACO,CAAE,GAAGC,EAAU,CAACtG,CAAI,EAAG,CAAC,GAAGuG,EAAU1G,CAAK,GAE1C,CAAE,GAAGyG,EAAU,CAACtG,CAAI,EAAGuG,EAAS,OAAOnF,GAAQA,IAASvB,CAAK,EACxE,KAEA,OAAO,CAAE,GAAGyG,EAAU,CAACtG,CAAI,EAAGH,CAAM,CACxC,CACH,CAAA,EAGC2G,EAAe,IAAM,WACjB,MAAAC,EAAc,SAAS,eAAe,MAAM,EAC5CC,EAAaD,EAAY,iBAAiB,yBAAyB,EACnEE,MAAyB,IACzBC,MAA4B,IAClC,IAAIC,EAAU,GAGHH,EAAA,QAASI,GAAU,CACpBA,EAAA,UAAU,OAAO,aAAa,EAC9B,MAAAC,EAAiBD,EAAM,QAAQ,UAAU,EACzCE,EAASD,GAAA,YAAAA,EAAgB,cAAc,UACzCC,GACOA,EAAA,UAAU,OAAO,aAAa,CACzC,CACH,EAGD,UAAWC,KAAWP,EAAY,CACxB,MAAAK,EAAiBE,EAAQ,QAAQ,UAAU,EAM3CC,EAAYD,EAAQ,MAAQA,EAAQ,IAAM,gBAE5C,GAAAA,EAAQ,OAAS,WACjB,GAAIA,EAAQ,QACcL,EAAA,IAAIK,EAAQ,IAAI,MACnC,CACG,MAAAD,EAASD,GAAA,YAAAA,EAAgB,cAAc,UACzCC,GACOA,EAAA,UAAU,IAAI,aAAa,CAE1C,SACOC,EAAQ,OAAS,QACpBA,EAAQ,SACWN,EAAA,IAAIM,EAAQ,IAAI,UAEhCA,EAAQ,OAAS,QAExB,GAAI,CADeA,EAAQ,MAAM,KAAK,EACrB,CACL,QAAA,IAAI,eAAeC,CAAS,aAAa,EACzCD,EAAA,UAAU,IAAI,aAAa,EAE7B,MAAAE,EAAYF,EAAQ,QAAQ,sBAAsB,EAClDD,EAASG,GAAA,YAAAA,EAAW,cAAc,UACpCH,GAAUA,EAAO,YAAY,SAAS,kBAAkB,GACjDA,EAAA,UAAU,IAAI,aAAa,EAEtC,QAAQ,IAAI,UAAU,EACZH,EAAA,EACd,UAII,CADeI,EAAQ,MAAM,KAAK,EACrB,CACL,QAAA,IAAI,UAAUC,CAAS,aAAa,EACpCD,EAAA,UAAU,IAAI,aAAa,EAC7B,MAAAD,EAASD,GAAA,YAAAA,EAAgB,cAAc,UACzCC,GACOA,EAAA,UAAU,IAAI,aAAa,EAEtC,QAAQ,IAAI,UAAU,EAEZH,EAAA,EACd,CAER,CAGM,MAAAO,EAAcX,EAAY,iBAAiB,qBAAqB,EAChEY,EAAoB,IAAI,IAAI,MAAM,KAAKD,CAAW,EAAE,IAAIE,GAAKA,EAAE,IAAI,CAAC,EAE1E,UAAWC,KAAaF,EACpB,GAAI,CAACV,EAAmB,IAAIY,CAAS,EAAG,CAEpC,MAAMR,GAAiB5C,GADDsC,EAAY,iBAAiB,eAAec,CAAS,IAAI,EAC1C,CAAC,IAAf,YAAApD,GAAkB,QAAQ,YAC3C6C,EAASD,GAAA,YAAAA,EAAgB,cAAc,UACzCC,GACOA,EAAA,UAAU,IAAI,aAAa,EAE9B,QAAA,IAAI,iBAAiBD,CAAc,EAC3C,QAAQ,IAAI,UAAU,EACtB,MAAMS,EAAwBT,GAAA,YAAAA,EAAgB,UAAU,SAAS,gBAG7D,GAFI,QAAA,IAAI,wBAAwBS,CAAqB,EAEjDA,EACA,SAEEX,EAAA,EACd,CAIE,MAAAY,EAAiBhB,EAAY,iBAAiB,wBAAwB,EACtEiB,GAAuB,IAAI,IAAI,MAAM,KAAKD,CAAc,EAAE,IAAIE,GAAKA,EAAE,IAAI,CAAC,EAEhF,UAAWJ,KAAaG,GACpB,GAAI,CAACd,EAAsB,IAAIW,CAAS,EAAG,CAEvC,MAAMR,GAAiB7C,GADDuC,EAAY,iBAAiB,eAAec,CAAS,IAAI,EAC1C,CAAC,IAAf,YAAArD,GAAkB,QAAQ,YAC3C8C,EAASD,GAAA,YAAAA,EAAgB,cAAc,UACzCC,GACOA,EAAA,UAAU,IAAI,aAAa,EAGtC,QAAQ,IAAI,UAAU,EACZH,EAAA,EACd,CAIE,MAAAe,GAAa,SAAS,cAAc,cAAc,EACpDA,IACaA,GAAW,iBAAiB,IAAI,EACxC,QAASC,GAAQ,CACZ,MAAAC,EAAYD,EAAI,cAAc,IAAI,EACpCC,GACUA,EAAA,UAAU,OAAO,aAAa,EAGtC,MAAAC,EAAeF,EAAI,iBAAiB,qBAAqB,EAG3D,CAFe,MAAM,KAAKE,CAAY,EAAE,KAAMC,GAAUA,EAAM,OAAO,GAEtDF,GACLA,EAAA,UAAU,IAAI,aAAa,CACzC,CACH,EAGC,MAAAG,GAAgB,SAAS,cAAc,kBAAkB,EAC/D,OAAIA,IACaA,GAAc,iBAAiB,IAAI,EAC3C,QAASJ,GAAQ,CAClB,MAAMK,EAAaL,EAAI,iBAAiB,IAAI,EAAE,CAAC,EAC3CK,GACWA,EAAA,UAAU,OAAO,aAAa,EAGvC,MAAAH,EAAeF,EAAI,iBAAiB,qBAAqB,EAG3D,CAFe,MAAM,KAAKE,CAAY,EAAE,KAAMC,GAAUA,EAAM,OAAO,GAEtDE,IACJA,EAAA,UAAU,IAAI,aAAa,EACtC,QAAQ,IAAI,UAAU,EACZrB,EAAA,GACd,CACH,EAGEA,CAAA,EAOLsB,GAAa,SAAY,CAE3B7C,EAAS8C,GAAiB,CAAE,KAAMC,EAAA,CAAS,CAAC,EAC5C,SAAS,OAAO,CAAA,EAOdC,GAAa,SAAY,CAC7BzC,EAAY,EAAI,EACZ,GAAA,CAGF,MAAM0C,EAAkB,CACpB,GAAG5C,EACH,CAACF,EAAYD,CAAmB,CAAC,EAAGnG,CAAA,EAElCP,EAAW,MAAMgH,EAAgByC,CAAe,EAGtD,GAAIzJ,GAAAA,MAAAA,EAAU,QAEZwG,EAASkD,EAAa,CAAE,oBAAAhD,EAAqB,KAAMnG,CAAU,CAAA,CAAC,EAG9DoJ,EAAM,QAAQ,qCAAsC,CAClD,SAAU,YACV,UAAW,IACX,gBAAiB,GACjB,aAAc,GACd,aAAc,GACd,UAAW,GACX,SAAU,MAAA,CACX,MAGK,OAAA,IAAI,MAAM,0BAA0B,OAE9B,CAIdA,EAAM,MAAM,oDAAqD,CAC/D,SAAU,YACV,UAAW,IACX,gBAAiB,GACjB,aAAc,GACd,aAAc,GACd,UAAW,GACX,SAAU,MAAA,CACX,CAAA,QACD,CAEA5C,EAAY,EAAK,CACnB,CAAA,EAGI6C,GAAc,IAAM,CAGlB,GAAA,CAAClC,IAAgB,CACjBiC,EAAM,MAAM,8BAA+B,CACvC,SAAU,YACV,UAAW,IACX,gBAAiB,GACjB,aAAc,GACd,aAAc,GACd,UAAW,GACX,SAAU,MAAA,CACb,EACD,MACJ,CACAnD,EAASkD,EAAa,CAAE,oBAAAhD,EAAqB,KAAMnG,CAAU,CAAA,CAAC,EAC9D,MAAMkJ,EAAkB,CACpB,GAAG5C,EACH,CAACF,EAAYD,CAAmB,CAAC,EAAGnG,CAAA,EAGxCyG,EAAgByC,CAAe,EAI3B/C,EAAsBC,EAAY,OAAS,IAClCH,EAAAqD,GAAuBnD,EAAsB,CAAC,CAAC,EACxDL,EAAY,CAAE,CAAA,EACdC,EAAS,IAAIK,EAAYD,EAAsB,CAAC,CAAC,EAAE,EACvD,EAGEoD,GAAe,IAAM,CACnB,GAAA,CAACpC,IAAgB,CACjBiC,EAAM,MAAM,8BAA+B,CACvC,SAAU,YACV,UAAW,IACX,gBAAiB,GACjB,aAAc,GACd,aAAc,GACd,UAAW,GACX,SAAU,MAAA,CACb,EACD,MACJ,CACA,MAAMF,EAAkB,CACpB,GAAG5C,EACH,CAACF,EAAYD,CAAmB,CAAC,EAAGnG,CAAA,EAKxC0G,EAAgBwC,CAAe,EAC/BjD,EAASkD,EAAa,CAAE,oBAAAhD,EAAqB,KAAMnG,CAAU,CAAA,CAAC,EAC9D+F,EAAS,kBAAkB,CAAA,EAGzByD,GAAa,IAAM,CACrB,GAAIrD,EAAsB,EAAG,CACzBF,EAASkD,EAAa,CAAE,oBAAAhD,EAAqB,KAAMnG,CAAU,CAAA,CAAC,EACrDiG,EAAAqD,GAAuBnD,EAAsB,CAAC,CAAC,EACxD,MAAM+C,EAAkB,CACpB,GAAG5C,EACH,CAACF,EAAYD,CAAmB,CAAC,EAAGnG,CAAA,EAGxCyG,EAAgByC,CAAe,EAC/BnD,EAAS,IAAIK,EAAYD,EAAsB,CAAC,CAAC,EAAE,CACvD,CAAA,EAGJ,cACKsD,GACG,CAAA,SAAA,CAAA7I,EAAA,IAAC8I,GAAe,EAAA,EACf7D,IAAS,OAEN1E,EAAAA,KAAAwI,EAAA,SAAA,CAAA,SAAA,CAAC/I,EAAA,IAAAC,EAAA,CAAW,QAAQ,QAAQ,SACM,+IAAA,EAC9BD,MAAC,OAAI,UAAU,mBAAmB,MAAO,CAAC,WAAW,QACrD,SAAAA,EAAA,IAAC6D,EAAA,CACG,QAAQ,YACR,QAAS,IAAMsB,EAAS,6BAA6B,EACrD,UAAU,uBAEb,SAAA,yCAAA,CAAA,EAGD,CAAA,CAAA,CACA,EACD,GACP5E,EAAAA,KAAC,OAAK,CAAA,GAAG,OACJ,SAAA,CAAKyE,EAAA,IAAI,CAACP,EAAStE,IAChBH,EAAAA,IAAC4E,GAAoB,CAAA,QAAAH,EAAkB,IAAAI,EAAU,aAAAhF,EAA4B,SAAAT,CAA/D,EAAAe,CAAmF,CACpG,EAEA8E,IAAS,OACLjF,MAAA,MAAA,CAAI,UAAU,mBACf,SAAAA,EAAA,IAAC6D,EAAA,CACG,QAAQ,YACR,QAAS,IAAMsB,EAAS,6BAA6B,EACrD,UAAU,uBAEb,SAAA,yCAAA,CAGD,CAAA,CAAA,EAEC5E,EAAA,KAAAa,EAAA,CAAI,GAAI,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,GAAI,CAAA,EAC7D,SAAA,CAACpB,EAAAA,IAAA6D,EAAA,CAAO,UAAU,gBAAgB,QAAQ,YAAY,QAAS+E,GAAY,SAAUrD,IAAwB,EAAG,SAEhH,MAAA,CAAA,EAGAvF,EAAA,IAAC6D,EAAA,CACG,QAAQ,YACR,UAAU,gBACV,MAAM,UACN,QAASwE,GACT,SAAU1C,EAET,WAAW,YAAc,MAAA,CAC9B,EAECJ,EAAsBC,EAAY,OAAS,EACxCxF,EAAA,IAAA+I,EAAA,SAAA,CACA,eAAClF,EAAO,CAAA,UAAU,gBAAgB,QAAQ,YAAY,QAAS4E,GAAY,SAE3E,MAAA,CAAA,CAAA,CAEJ,EAEIzI,EAAA,IAAC6D,EAAO,CAAA,UAAU,gBAAgB,QAAQ,YAAY,QAAS8E,GAAc,SAE7E,SAAA,CAAA,EAER,EAGH1D,IAAS,OAAQ,GAClBjF,EAAA,IAACoB,GAAI,GAAI,CAAE,QAAS,OAAQ,eAAgB,SAAU,GAAI,CAAE,EAC5D,SAACpB,EAAA,IAAA6D,EAAA,CAAO,UAAU,gBAAgB,QAAQ,YAAY,QAASqE,GAAY,SAAA,MAAA,CAE/D,CACA,CAAA,CAAA,EAChB,CAEJ,CAAA,CAAA,CAER,EC3aMc,GAAgB,CAAC,CAAE,MAAApG,EAAO,KAAAqG,EAAK,KAAAhE,KAAW,CAC5C,MAAME,EAAWC,KACAE,GAAY,EAC7B,MAAMC,EAAsBzB,EAAaC,GAAUA,EAAM,cAAc,mBAAmB,EACpFyB,EAAc1B,EAAaC,GAAUA,EAAM,cAAc,WAAW,EACpE,CAAE,WAAAmF,GAAeC,KACjB,CAAE,QAASC,EAAgB,MAAOC,EAAY,QAAQC,EAAc,SAAAC,GAAYC,KAEtFtD,OAAAA,EAAAA,UAAU,IAAM,CACJ,QAAA,IAAI,SAASqD,EAAS,KAAK,EAChCA,EAAS,QAAQ,KACbA,EAAS,OAAQ,KAAOtE,IAAQ,QACtBE,EAAA,iBAAiBoE,EAAS,IAAI,CAE/C,EAEC,CAACD,CAAY,CAAC,EAEnBpD,EAAAA,UAAU,IAAM,CACR,MAAAuD,EAAqBjE,EAAYD,CAAmB,EAItD2D,IAAeO,GAGbxE,IAAS,QACJE,EAAA,IAAIsE,CAAkB,EAAE,GAElC,CAACP,EAAY3D,EAAqBC,EAAaL,CAAQ,CAAC,EAGvD5E,EAAA,KAAAwI,WAAA,CAAA,SAAA,CAAA/I,MAAC0J,GACO,CAAA,SAAA1J,EAAA,IAAC,QAAM,CAAA,SAAA,uBAAqB,CAAA,EACtC,EACO4C,QAAS,MAAI,CAAA,UAAU,gBAAgB,SAAC5C,MAAA,KAAA,CAAI,SAAM4C,CAAA,CAAA,CAAA,CAAK,EAAS,SAChEiG,GAAU,CAAA,UAAU,iBACjB,SAAC7I,MAAA,MAAA,CAAI,UAAU,GACX,SAAAA,EAAA,IAAC+E,GAAA,CACG,KAAMkE,EACN,IAAK,GACL,KAAAhE,CAAA,GAGR,CAEJ,CAAA,CACJ,CAAA,CAAA,CAER"}