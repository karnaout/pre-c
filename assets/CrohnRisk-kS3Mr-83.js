import{r as h,at as E,j as e,au as F,w as Y,A as T,P as k,T as i,n as a,I as R,Y as _,av as P,aw as M,u as O,C as D,ax as G,ay as q}from"./index-CZCi8_lK.js";import{B as U}from"./BodyLayout-BfzcDVTK.js";import{u as K}from"./useParticipantProfile-CCpDBgye.js";import{r as H}from"./createSvgIcon-CnUINSrS.js";import{G as n}from"./Grid-CgNaRYOv.js";import{C as V}from"./Checkbox-CUrsDD44.js";import{D as Q,a as J,b as X}from"./DialogTitle-B3rfv5ig.js";import"./SwitchBase-jup12wBb.js";const z=h.forwardRef(({bsPrefix:s,variant:l,animation:x="border",size:o,as:p="div",className:u,...t},f)=>{s=E(s,"spinner");const m=`${s}-${x}`;return e.jsx(p,{ref:f,...t,className:F(u,m,o&&`${m}-${o}`,l&&`text-${l}`)})});z.displayName="Spinner";const Z=()=>{const[s,l]=h.useState(null),[x,o]=h.useState(!1),[p,u]=h.useState(null);return{RiskCalculation:async f=>{o(!0),u(null);try{const m=await Y.get("https://precrohn-api-production.up.railway.app/api/risk",{headers:{Authorization:`${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return l(m.data),m.data}catch(m){return u(m.response?m.response.data:m.message),null}finally{o(!1)}},response:s,loading:x,error:p}};var I={},ee=T;Object.defineProperty(I,"__esModule",{value:!0});var N=I.default=void 0,te=ee(H()),ne=e;N=I.default=(0,te.default)((0,ne.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");const re=({title:s,subtitle:l,behaviors:x})=>e.jsxs(k,{className:"behavor-card",elevation:3,sx:{paddingTop:"26px",paddingLeft:"33px",paddingRight:"53px",paddingBottom:"43px",borderRadius:2,backgroundColor:"white",marginTop:"20px"},children:[e.jsx(i,{className:"risk-card-title",variant:"h6",sx:{color:"#006494",marginBottom:1,fontWeight:"700"},children:s}),e.jsx(i,{variant:"body1",sx:{color:"#00796B",marginBottom:2},children:l}),e.jsx(n,{container:!0,direction:"column",spacing:1,className:"behavor",children:x.map((o,p)=>e.jsxs(n,{item:!0,container:!0,alignItems:"center",justifyContent:"space-between",sx:{borderTop:"1px solid #597D0B",paddingBottom:1},children:[e.jsxs(n,{item:!0,container:!0,alignItems:"center",xs:10,children:[e.jsx(a,{component:"img",src:"/like.png",alt:"Checked Icon",sx:{width:30,height:30,marginRight:1}}),e.jsx(i,{variant:"body1",sx:{color:"#00796B",marginBottom:"0px !important",marginLeft:"10px"},children:o})]}),e.jsx(n,{item:!0,xs:2,container:!0,justifyContent:"flex-end",children:e.jsx(R,{children:e.jsx(N,{sx:{color:"#597D0B",width:30,height:30}})})})]},p))})]}),L=["VERY LOW","LOW","SIMILAR","HIGH","VERY HIGH"],ie={"VERY LOW":"#FCE7A0",LOW:"#FFD990",SIMILAR:"#FFC077",HIGH:"#FA9B5F","VERY HIGH":"#ED7837"},se=({riskLevel:s,firtSetnance:l,Diagnostics:x,lastDiagnostics:o})=>{const u=L.indexOf(s)*55;return e.jsx(k,{className:"risk-card-container",elevation:3,sx:{padding:3,borderRadius:2,backgroundColor:"white",gap:"180px "},children:e.jsxs(n,{className:"risk-card-grid",container:!0,spacing:2,sx:{position:"relative"},children:[e.jsx(n,{className:"risk-card-levels",item:!0,xs:3,sx:{position:"relative"},children:L.map((t,f)=>e.jsxs(a,{sx:{backgroundColor:ie[t],textAlign:"center",marginBottom:1,height:"59px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",fontSize:"15px",color:"black",fontWeight:"800"},children:[t,t===s&&e.jsx(a,{sx:{position:"absolute",top:"50%",left:"100%",transform:"translateY(-50%)",backgroundImage:"url(/union.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat",display:"inline-block"},className:"pointer-container",children:e.jsx(i,{variant:"body2",sx:{fontWeight:"bold",color:"white !important",fontSize:"16px"},children:"YOUR CURRENT RISK"})})]},t))}),e.jsx(n,{item:!0,xs:9,sx:{position:"relative",maxWidth:"401px !important"},className:"risk-card-description-container",children:e.jsxs(a,{className:"risk-card-description",sx:{marginTop:`${u+10}px`,maxWidth:"401px",backgroundr:"red"},children:[e.jsx(i,{className:"risk-card-title",variant:"h6",sx:{color:"#006494",marginBottom:1},children:"Current risk of Crohn’s disease"}),e.jsxs(i,{className:"risk-card-text",variant:"body1",sx:{color:"#333"},children:[l," ",e.jsx("strong",{children:x})," ",o]})]})})]})})},oe=({HumainSentnace:s,firstSentence:l,diagnostics:x,lastDiagnostics:o,riskPercentage:p,greenHumain:u=0})=>{const t=p,f=100-t,m=Math.floor(f/10)*29;return e.jsx(k,{className:"risk-card-container",elevation:3,sx:{padding:3,borderRadius:2,backgroundColor:"white",gap:"180px ",marginTop:"52px"},children:e.jsxs(n,{className:"risk-card-grid",container:!0,spacing:2,sx:{position:"relative"},children:[e.jsxs(n,{item:!0,xs:3,sx:{position:"relative",display:"flex",flexWrap:"wrap",paddingLeft:"58px"},className:"humain-container",children:[Array.from({length:f}).map((j,g)=>e.jsx(a,{component:"img",src:"/humain empty.svg",alt:"Empty Human",sx:{width:15,height:25,margin:"2px"}},`empty-${g}`)),Array.from({length:u}).map((j,g)=>e.jsx(a,{component:"img",src:"/green humain.svg",alt:"Filled Human",sx:{width:15,height:25,margin:"2px"}},`filled-${g}`)),Array.from({length:t}).map((j,g)=>e.jsx(a,{component:"img",src:"/humain.svg",alt:"Filled Human",sx:{width:15,height:25,margin:"2px"}},`filled-${g}`)),e.jsx(a,{sx:{position:"absolute",top:`${m}px`,left:"100%",transform:"translateY(-50%)",backgroundImage:"url(/union.png)",color:"white",borderRadius:"4px",display:"inline-block",textAlign:"center",marginTop:"20px",fontSize:"12px",fontWeight:"bold"},className:"pointer-container humain",children:e.jsx(i,{variant:"body2",sx:{fontWeight:"bold",color:"white !important",fontSize:"16px"},children:"Your lifetime risk"})})]}),e.jsx(n,{item:!0,xs:9,sx:{position:"relative",maxWidth:"401px !important",width:"401px"},className:"risk-card-description-container",children:e.jsxs(a,{className:"risk-card-description",sx:{marginTop:"10px",maxWidth:"401px"},children:[e.jsx(i,{className:"risk-card-title humain",variant:"h6",sx:{color:"#006494",marginBottom:1},children:"Lifetime risk of Crohn’s disease"}),e.jsxs(i,{className:"risk-card-title",variant:"p",sx:{color:"black",marginBottom:1,fontWeight:"700",fontSize:"19px !important"},children:[s," ",p,"%."]}),e.jsxs(i,{className:"risk-card-text",variant:"body1",sx:{color:"#333"},children:[l," ",e.jsx("strong",{children:x})," ",o]})]})})]})})};var S={},ae=T;Object.defineProperty(S,"__esModule",{value:!0});var A=S.default=void 0,le=ae(H()),ce=e;A=S.default=(0,le.default)((0,ce.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const de=({open:s,handleClose:l,title:x,content:o})=>e.jsxs(Q,{open:s,onClose:l,maxWidth:"lg",PaperProps:{sx:{borderRadius:"8px",backgroundColor:"white",padding:"0px",paddingTop:"0px"}},children:[e.jsx(J,{sx:{background:"#117BA3",paddingBottom:"8px"},children:e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(i,{variant:"h6",sx:{color:"white",fontWeight:"bold"},children:x}),e.jsx(R,{sx:{color:"white"},onClick:l,children:e.jsx(A,{})})]})}),e.jsx(X,{sx:{marginTop:"26px",background:"white",color:"#117BA3",marginBottom:2,fontSize:"19px",fontWeight:"400",lineHeight:"1.7em  "},children:_(o)})]}),xe=({title:s,subtitle:l,behaviors:x,openMpdal:o,RiskLevel:p,EmptyHumain:u,riskPercentage:t,FilledHumans:f})=>{const[m,j]=h.useState("50%"),[g,r]=h.useState({});h.useState(u),h.useState(f);const[y,C]=h.useState(0),b=100-t,v=Math.floor(b/10)*29,w=p,B=c=>{r(d=>({...d,[c]:!d[c]}))};return e.jsxs(k,{className:"behavor-card",elevation:3,sx:{paddingTop:"26px",paddingLeft:"33px",paddingRight:"53px",paddingBottom:"43px",borderRadius:2,backgroundColor:"white",marginTop:"20px"},children:[e.jsx(i,{className:"risk-card-title",variant:"h6",sx:{color:"#006494",marginBottom:1,fontWeight:"700"},children:s}),e.jsx(i,{variant:"body1",sx:{color:"#00796B",marginBottom:2},children:l}),e.jsxs(n,{container:!0,direction:"column",spacing:1,className:"behavor",children:[x.map((c,d)=>e.jsxs(n,{item:!0,container:!0,alignItems:"center",justifyContent:"space-between",sx:{borderTop:"1px solid #597D0B",paddingBottom:1,marginTop:"10px"},children:[e.jsxs(n,{item:!0,container:!0,alignItems:"center",xs:10,children:[e.jsx(V,{checked:!!g[c],onChange:()=>B(c),sx:{color:"#597D0B","&.Mui-checked":{color:"#597D0B"},width:24,height:24,marginTop:"-2px"}}),e.jsx(i,{variant:"body1",sx:{color:"#00796B",marginBottom:"0px !important",marginLeft:"10px"},children:c})]}),e.jsx(n,{item:!0,xs:2,container:!0,justifyContent:"flex-end",children:e.jsx(R,{onClick:o,children:e.jsx(N,{sx:{color:"#597D0B",width:30,height:30}})})})]},d)),e.jsxs(n,{item:!0,container:!0,xs:10,alignItems:"flex-start",justifyContent:"space-between",className:"mixed-component-container",children:[e.jsxs(n,{item:!0,container:!0,alignItems:"center",xs:5,justifyContent:"left",children:[e.jsx(n,{item:!0,container:!0,alignItems:"center",xs:10,justifyContent:"left",className:"title-container",children:e.jsx(i,{variant:"h6",sx:{color:"#117BA3",marginBottom:0},children:"Your current risk"})}),e.jsx(n,{className:"risk-card-levels mixed ",item:!0,xs:10,sx:{position:"relative",marginTop:"40px",paddingLeft:"23.5px"},children:P.map((c,d)=>e.jsxs(a,{sx:{backgroundColor:M[c],textAlign:"center",marginBottom:"7.5px",height:"58px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",fontSize:"15px",color:"black",fontWeight:"800",maxWidth:"182px"},children:[c,c===w&&e.jsxs(e.Fragment,{children:[e.jsx(a,{sx:{position:"absolute",top:"50%",left:"100%",transform:"translateY(-50%)",backgroundImage:"url(/union-3-clair.svg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",width:"139px",height:"41px",paddingLeft:"23px",marginLeft:"12px"},className:"pointer-container",children:e.jsx(i,{variant:"body2",sx:{fontWeight:"bold",color:"#80BBD1 !important",fontSize:"14px",marginBottom:"0px"},children:"CURRENT RISK"})}),e.jsx(a,{sx:{position:"absolute",top:m,left:"100%",transform:"translateY(-50%)",backgroundImage:"url(/union-3.svg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",width:"139px",height:"41px",paddingLeft:"23px",marginLeft:"12px",fontWeight:"700"},className:"pointer-container clear",children:e.jsx(i,{variant:"body2",sx:{fontWeight:"bold",fontSize:"14px",marginBottom:"0px",color:"white !important"},children:"CURRENT RISK"})})]})]},c))})]}),e.jsxs(n,{item:!0,container:!0,alignItems:"center",xs:5,justifyContent:"left",children:[e.jsx(n,{item:!0,container:!0,alignItems:"center",xs:10,justifyContent:"left",className:"title-container",children:e.jsx(i,{variant:"h6",sx:{color:"#117BA3",marginBottom:0},children:"YOUR Lifetime risk"})}),e.jsxs(n,{item:!0,xs:7,sx:{position:"relative",display:"flex",flexWrap:"wrap",marginTop:"40px",rowGap:"4px"},className:"humain-container",children:[Array.from({length:b}).map((c,d)=>e.jsx(a,{component:"img",src:"/humain empty.svg",alt:"Empty Human",sx:{width:15,height:25,margin:"2px"}},`empty-${d}`)),Array.from({length:y}).map((c,d)=>e.jsx(a,{component:"img",src:"/green humain.svg",alt:"Filled Human",sx:{width:15,height:25,margin:"2px"}},`filled-${d}`)),Array.from({length:t}).map((c,d)=>e.jsx(a,{component:"img",src:"/humain.svg",alt:"Filled Human",sx:{width:15,height:25,margin:"2px"}},`filled-${d}`)),e.jsxs(a,{sx:{position:"absolute",top:`${v}px`,left:"100%",transform:"translateY(-50%)",color:"white",borderRadius:"4px",display:"inline-block",textAlign:"center",marginTop:"20px",fontSize:"12px",fontWeight:"bold",backgroundSize:"cover",width:"128px"},className:"pointer-container humain",children:[e.jsxs(i,{sx:{fontWeight:"bold",color:"#117BA3 !important",fontSize:"22px",border:"2px solid",marginLeft:"9.5px"},children:[t,"%"]}),e.jsx(a,{sx:{transform:"translateY(-50%)",backgroundImage:"url(/union-3.svg)",color:"white",display:"inline-block",textAlign:"center",fontSize:"12px",fontWeight:"bold",backgroundSize:"cover",width:"128px",padding:"9px",paddingRight:"0px"},children:e.jsx(i,{variant:"body5",sx:{fontWeight:"bold",color:"white !important",fontSize:"14px",marginLeft:"8px"},children:"Lifetime risk"})})]})]})]})]})]})]})},ve=({title:s})=>{const l=O(),{RiskCalculation:x,response:o,loading:p,error:u}=Z(),{profileData:t,loading:f,error:m}=K(),[j,g]=h.useState(!1),[r,y]=h.useState(!1),C="Based on the answers you provided to the questionnaires, your blood tests, and your stool tests,",b="you have a high risk for Crohn’s disease",v="when compared to other people who have a family member with Crohn’s disease.",w="Your personal risk of developing Crohn’s disease is ",B=["You're physically active","You don't smoke"],c=["Lower your sucrose (sugar) intake","Increase your physical activity","Quit smoking"];return h.useEffect(()=>{try{x()}catch(d){console.log("There is an error in calculation:",d)}},[]),h.useEffect(()=>{if(t){const d=t.state,$=t==null?void 0:t.role,W=t==null?void 0:t.phase;W===0&&d===0&&l("/login"),$==="3"&&W!==2&&d!==0&&console.log("login")}},[t]),h.useEffect(()=>{console.log(o),y(o)},[o]),e.jsxs(e.Fragment,{children:[s?e.jsx("div",{className:"title-content",children:e.jsx("h1",{children:s})}):"",e.jsxs(D,{className:"content-container",children:[p&&e.jsx("div",{className:"loader-overlay",children:e.jsx(z,{animation:"border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),!p&&e.jsxs(e.Fragment,{children:[e.jsx(U,{data:G}),e.jsx(se,{riskLevel:r==null?void 0:r.CategorizeRisk,firtSetnance:C,Diagnostics:b,lastDiagnostics:v}),e.jsx(oe,{HumainSentnace:w,firtSetnance:C,Diagnostics:b,lastDiagnostics:v,riskPercentage:r==null?void 0:r.FinalRsultRound}),e.jsx(re,{title:"Keep up the good work!",subtitle:"Great job! You reported behaviors that are associated with a lower risk for Crohn's disease:",behaviors:B}),e.jsx(xe,{title:"Watch your risk drop",subtitle:"Check the boxes next to the behaviors below to see how these changes could reduce your risk of Crohn’s disease.",behaviors:c,openMpdal:()=>{g(!0)},riskPercentage:r==null?void 0:r.FinalRsultRound,RiskLevel:r==null?void 0:r.CategorizeRisk,EmptyHumain:100-(r==null?void 0:r.FinalRsultRound),FilledHumans:r==null?void 0:r.FinalRsultRound})]})]}),j&&e.jsx(de,{open:j,handleClose:()=>{g(!1)},title:"Lower your sucrose (sugar) intake",content:q.content})]})};export{ve as default};
