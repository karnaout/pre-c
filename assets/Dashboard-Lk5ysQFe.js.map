{"version":3,"file":"Dashboard-Lk5ysQFe.js","sources":["../../src/Hooks/useRegister.jsx","../../src/Components/Common/Admin/Registration.jsx","../../src/pages/Dashboard.jsx"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-hot-toast';\nexport const useRegister = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n\n  const register = async (firstName, secondName, username, email, password, role,biomarkers) => {\n    setLoading(true);\n    setError(null);\n   \n    let emailTrim = email.toLowerCase().trim();\n    try {\n      const response = await axios.post(import.meta.env.VITE_API_URL_REGISTER, {\n        firstName,\n        secondName,\n        username,\n        email:emailTrim,\n        password,\n        role,\n        biomarkers\n\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        maxBodyLength: Infinity,\n      });\n      console.log()\n      setData(response.data);\n     \n    } catch (err) {\n      // Ensure error is a string\n      console.log(err?.response?.data?.message)\n      setError(err.response ? err.response.data.message || err.message : err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { register, loading, error, data };\n};\n","import React, { useState, useEffect } from 'react';\nimport { Container, TextField, Button, CircularProgress, FormControl, FormControlLabel, RadioGroup, Radio, Typography, Alert, Box } from '@mui/material';\nimport { useRegister } from '../../../Hooks/useRegister'; // Adjust the path as needed\nimport { toast } from 'react-hot-toast';\n\nexport const Registration = () => {\n  const [firstName, setFirstName] = useState('');\n  const [secondName, setSecondName] = useState('');\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [role, setRole] = useState('3'); // Default role\n  const [biomarkers, setBiomarkers] = useState('no'); // New state for biomarkers\n  const { register, loading, error, data } = useRegister();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      toast.error('Passwords do not match');\n      return;\n    }\n    register(firstName, secondName, username, email, password, role, biomarkers);\n  };\n\n  useEffect(() => {\n    if (data) {\n      toast.success('Registration successful');\n      \n      // Reset all fields after successful registration\n      setFirstName('');\n      setSecondName('');\n      setUsername('');\n      setEmail('');\n      setPassword('');\n      setConfirmPassword('');\n      setRole('3');\n      setBiomarkers('no');\n    }\n  }, [data]);\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" sx={{ p: 3, my: 5, background: \"white\", borderRadius: \"24px\", padding: \"34px\", marginTop: \"0px\" }}>\n      <Typography variant=\"h5\" align=\"center\" gutterBottom>\n        Add New User\n      </Typography>\n      <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 2 }}>\n        <TextField\n          label=\"First Name\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={firstName}\n          onChange={(e) => setFirstName(e.target.value)}\n          required\n        />\n        <TextField\n          label=\"Last Name\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={secondName}\n          onChange={(e) => setSecondName(e.target.value)}\n          required\n        />\n        <TextField\n          label=\"Username\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n        <TextField\n          label=\"Email Address\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <TextField\n          label=\"Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <TextField\n          label=\"Confirm Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={confirmPassword}\n          onChange={(e) => setConfirmPassword(e.target.value)}\n          required\n        />\n\n        <FormControl component=\"fieldset\" sx={{ mt: 2 }}>\n          <Typography variant=\"subtitle1\" gutterBottom>\n            Role\n          </Typography>\n          <RadioGroup\n            value={role}\n            onChange={(e) => setRole(e.target.value)}\n            row\n          >\n            <FormControlLabel\n              value=\"1\"\n              control={<Radio />}\n              label=\"Admin\"\n            />\n            <FormControlLabel\n              value=\"2\"\n              control={<Radio />}\n              label=\"Intervention\"\n            />\n            <FormControlLabel\n              value=\"3\"\n              control={<Radio />}\n              label=\"Control\"\n            />\n          </RadioGroup>\n        </FormControl>\n\n        {/* New Biomarkers Field */}\n        <FormControl component=\"fieldset\" sx={{ mt: 2 }}>\n          <Typography variant=\"subtitle1\" gutterBottom>\n            â‰¥ 2+ biomarkers?\n          </Typography>\n          <RadioGroup\n            value={biomarkers}\n            onChange={(e) => setBiomarkers(e.target.value)}\n            row\n          >\n            <FormControlLabel\n              value=\"yes\"\n              control={<Radio />}\n              label=\"Yes\"\n            />\n            <FormControlLabel\n              value=\"no\"\n              control={<Radio />}\n              label=\"No\"\n            />\n          </RadioGroup>\n        </FormControl>\n\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          type=\"submit\"\n          fullWidth\n          sx={{ mt: 3, mb: 2 }}\n          disabled={loading}\n        >\n          {loading ? (\n            <>\n              <CircularProgress size={24} sx={{ mr: 1 }} />\n              Registering...\n            </>\n          ) : (\n            'Register'\n          )}\n        </Button>\n      </Box>\n\n      {error && <Alert severity=\"error\" sx={{ mt: 2 }}>{error}</Alert>}\n    </Container>\n  );\n};\n","// Dashboard.jsx\nimport React from 'react';\nimport { Container, Grid, Box } from '@mui/material';\nimport { Registration } from '../Components/Common/Admin/Registration';\nimport { Helmet } from 'react-helmet';\nconst Dashboard = () => {\n  return (\n    <Container maxWidth=\"lg\">\n      \n      <Grid container spacing={2}>\n        \n        <Grid item xs={12} md={6}>\n          <Box>\n            <Registration />\n          </Box>\n        </Grid>\n\n        \n        \n      </Grid>\n    </Container>\n  );\n};\n\nexport default Dashboard;"],"names":["useRegister","loading","setLoading","useState","error","setError","data","setData","firstName","secondName","username","email","password","role","biomarkers","emailTrim","response","axios","err","_b","_a","Registration","setFirstName","setSecondName","setUsername","setEmail","setPassword","confirmPassword","setConfirmPassword","setRole","setBiomarkers","register","handleSubmit","e","toast","useEffect","jsxs","Container","jsx","Typography","Box","TextField","FormControl","RadioGroup","FormControlLabel","Radio","Button","Fragment","CircularProgress","Alert","Dashboard","Grid"],"mappings":"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"}